{
  "problem_id": "user_unregistered_mongodb-detection-1",
  "system_state_summary": "故障根本原因：geo服务Pod因MongoDB认证失败而处于CrashLoopBackOff状态。\n\n受影响资源：\n- Namespace: test-hotel-reservation\n- 异常Pod: geo-84fbc958c7-lpqmr (状态: CrashLoopBackOff, 重启6次)\n- 依赖资源: mongodb-geo-5ff578bcb8-vpmcs (状态: Running, 正常)\n- 服务类型: Hotel Reservation微服务应用的地理位置服务组件\n\n故障现象：\n1. geo Pod持续重启，Back-off restarting failed container，重启间隔15秒\n2. 容器启动后立即失败，无法保持运行状态\n3. Pod Events显示：\"Back-off restarting failed container hotel-reserv-geo in pod\"\n4. Deployment状态显示：MinimumReplicasUnavailable，unavailableReplicas: 1\n\n关键配置信息：\n- 存在ConfigMap: failure-admin-geo，包含remove-admin-mongo.sh脚本\n- 脚本内容显示会删除MongoDB的admin用户：db.dropUser('admin')\n- MongoDB连接配置：ROOT_USER=\"root\", ROOT_PWD=\"root\", ADMIN_USER=\"admin\", ADMIN_PWD=\"admin\"\n- 目标数据库：geo-db\n\n集群资源状态：\n- 节点: kind-worker (IP: 172.18.0.x)\n- 所有其他服务Pod运行正常：consul, frontend, memcached系列, profile, rate, recommendation, reservation, search, user\n- mongodb-geo服务本身运行正常，但admin用户已被删除\n- 镜像: yinfangchen/hotelreservation:latest (已存在于节点)\n\n推断的故障链：ConfigMap中的故障注入脚本删除了MongoDB admin用户 → geo服务尝试使用admin凭证连接MongoDB → 认证失败 → 容器退出 → Kubernetes重启容器 → 循环往复进入CrashLoopBackOff状态。",
  "execution_info": {
    "start_time": "2025-12-24T18:13:46.958214",
    "end_time": "2025-12-24T18:14:45.687956",
    "duration_seconds": 58.729742,
    "total_commands": 68,
    "successful_commands": 67,
    "failed_commands": 1
  },
  "commands": [
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-44c1044a\")",
      "result": "NAME                                      READY   STATUS    RESTARTS      AGE\nconsul-78c8d79bb-c6dpz                    1/1     Running   0             34s\nfrontend-7fc7ddc9db-fffsz                 1/1     Running   0             34s\ngeo-84fbc958c7-c26cc                      0/1     Error     1 (13s ago)   14s\njaeger-67445b6dd6-gvrkt                   1/1     Running   0             34s\nmemcached-profile-668dcd6dbb-sk28x        1/1     Running   0             33s\nmemcached-rate-5b666ddfcb-5q5m4           1/1     Running   0             33s\nmemcached-reserve-5bf87f5d54-rs4zn        1/1     Running   0             32s\nmongodb-geo-5ff578bcb8-q4tsg              1/1     Running   0             13s\nmongodb-profile-758cb77f9f-qzbv8          1/1     Running   0             33s\nmongodb-rate-56cc8659c9-cz7nf             1/1     Running   0             33s\nmongodb-recommendation-55699465f7-qhx8d   1/1     Running   0             33s\nmongodb-reservation-5994859869-ppbpw      1/1     Running   0             32s\nmongodb-user-969c6c449-dthvq              1/1     Running   0             31s\nprofile-8b6dd7c6c-45dr6                   1/1     Running   0             33s\nrate-7bdc978679-n7k74                     1/1     Running   0             33s\nrecommendation-6879fb56bf-98vl9           1/1     Running   0             32s\nreservation-78c9f7976b-rljjf              1/1     Running   1 (12s ago)   32s\nsearch-5c64c8f5bc-8q5m4                   1/1     Running   0             31s\nuser-66d5d6f874-qk6kk                     1/1     Running   1 (17s ago)   31s\nwrk2-job-44c1044a-g5n25                   0/1     Error     0             6s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation --show-labels -o wide\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-44c1044a --show-labels -o wide\")",
      "result": "NAME                                      READY   STATUS    RESTARTS      AGE   IP             NODE          NOMINATED NODE   READINESS GATES   LABELS\nconsul-78c8d79bb-c6dpz                    1/1     Running   0             34s   10.244.1.108   kind-worker   <none>           <none>            io.kompose.service=consul,pod-template-hash=78c8d79bb\nfrontend-7fc7ddc9db-fffsz                 1/1     Running   0             34s   10.244.1.109   kind-worker   <none>           <none>            io.kompose.service=frontend,pod-template-hash=7fc7ddc9db\ngeo-84fbc958c7-c26cc                      0/1     Error     1 (13s ago)   14s   10.244.1.133   kind-worker   <none>           <none>            io.kompose.service=geo,pod-template-hash=84fbc958c7\njaeger-67445b6dd6-gvrkt                   1/1     Running   0             34s   10.244.1.112   kind-worker   <none>           <none>            io.kompose.service=jaeger,pod-template-hash=67445b6dd6\nmemcached-profile-668dcd6dbb-sk28x        1/1     Running   0             33s   10.244.1.113   kind-worker   <none>           <none>            io.kompose.service=memcached-profile,pod-template-hash=668dcd6dbb\nmemcached-rate-5b666ddfcb-5q5m4           1/1     Running   0             33s   10.244.1.116   kind-worker   <none>           <none>            io.kompose.service=memcached-rate,pod-template-hash=5b666ddfcb\nmemcached-reserve-5bf87f5d54-rs4zn        1/1     Running   0             32s   10.244.1.120   kind-worker   <none>           <none>            io.kompose.service=memcached-reserve,pod-template-hash=5bf87f5d54\nmongodb-geo-5ff578bcb8-q4tsg              1/1     Running   0             13s   10.244.1.134   kind-worker   <none>           <none>            io.kompose.service=mongodb-geo,pod-template-hash=5ff578bcb8\nmongodb-profile-758cb77f9f-qzbv8          1/1     Running   0             33s   10.244.1.127   kind-worker   <none>           <none>            io.kompose.service=mongodb-profile,pod-template-hash=758cb77f9f\nmongodb-rate-56cc8659c9-cz7nf             1/1     Running   0             33s   10.244.1.128   kind-worker   <none>           <none>            io.kompose.service=mongodb-rate,pod-template-hash=56cc8659c9\nmongodb-recommendation-55699465f7-qhx8d   1/1     Running   0             33s   10.244.1.130   kind-worker   <none>           <none>            io.kompose.service=mongodb-recommendation,pod-template-hash=55699465f7\nmongodb-reservation-5994859869-ppbpw      1/1     Running   0             32s   10.244.1.131   kind-worker   <none>           <none>            io.kompose.service=mongodb-reservation,pod-template-hash=5994859869\nmongodb-user-969c6c449-dthvq              1/1     Running   0             31s   10.244.1.132   kind-worker   <none>           <none>            io.kompose.service=mongodb-user,pod-template-hash=969c6c449\nprofile-8b6dd7c6c-45dr6                   1/1     Running   0             33s   10.244.1.115   kind-worker   <none>           <none>            io.kompose.service=profile,pod-template-hash=8b6dd7c6c\nrate-7bdc978679-n7k74                     1/1     Running   0             33s   10.244.1.118   kind-worker   <none>           <none>            io.kompose.service=rate,pod-template-hash=7bdc978679\nrecommendation-6879fb56bf-98vl9           1/1     Running   0             32s   10.244.1.119   kind-worker   <none>           <none>            io.kompose.service=recommendation,pod-template-hash=6879fb56bf\nreservation-78c9f7976b-rljjf              1/1     Running   1 (12s ago)   32s   10.244.1.122   kind-worker   <none>           <none>            io.kompose.service=reservation,pod-template-hash=78c9f7976b\nsearch-5c64c8f5bc-8q5m4                   1/1     Running   0             31s   10.244.1.123   kind-worker   <none>           <none>            io.kompose.service=search,pod-template-hash=5c64c8f5bc\nuser-66d5d6f874-qk6kk                     1/1     Running   1 (17s ago)   31s   10.244.1.124   kind-worker   <none>           <none>            io.kompose.service=user,pod-template-hash=66d5d6f874\nwrk2-job-44c1044a-g5n25                   0/1     Error     0             6s    10.244.1.135   kind-worker   <none>           <none>            batch.kubernetes.io/controller-uid=1c572446-b004-48b3-8925-95a1edae67f8,batch.kubernetes.io/job-name=wrk2-job-44c1044a,controller-uid=1c572446-b004-48b3-8925-95a1edae67f8,job-name=wrk2-job-44c1044a\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get nodes -o wide\")",
      "command": "exec_shell(\"kubectl get nodes -o wide\")",
      "result": "NAME                 STATUS   ROLES           AGE    VERSION   INTERNAL-IP   EXTERNAL-IP   OS-IMAGE                         KERNEL-VERSION                     CONTAINER-RUNTIME\nkind-control-plane   Ready    control-plane   113m   v1.32.0   172.18.0.3    <none>        Debian GNU/Linux 12 (bookworm)   6.6.87.2-microsoft-standard-WSL2   containerd://1.7.24\nkind-worker          Ready    <none>          113m   v1.32.0   172.18.0.2    <none>        Debian GNU/Linux 12 (bookworm)   6.6.87.2-microsoft-standard-WSL2   containerd://1.7.24\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get all -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get all -n test-hotel-reservation-44c1044a\")",
      "result": "NAME                                          READY   STATUS    RESTARTS      AGE\npod/consul-78c8d79bb-c6dpz                    1/1     Running   0             36s\npod/frontend-7fc7ddc9db-fffsz                 1/1     Running   0             36s\npod/geo-84fbc958c7-c26cc                      0/1     Error     1 (15s ago)   16s\npod/jaeger-67445b6dd6-gvrkt                   1/1     Running   0             36s\npod/memcached-profile-668dcd6dbb-sk28x        1/1     Running   0             35s\npod/memcached-rate-5b666ddfcb-5q5m4           1/1     Running   0             35s\npod/memcached-reserve-5bf87f5d54-rs4zn        1/1     Running   0             34s\npod/mongodb-geo-5ff578bcb8-q4tsg              1/1     Running   0             15s\npod/mongodb-profile-758cb77f9f-qzbv8          1/1     Running   0             35s\npod/mongodb-rate-56cc8659c9-cz7nf             1/1     Running   0             35s\npod/mongodb-recommendation-55699465f7-qhx8d   1/1     Running   0             35s\npod/mongodb-reservation-5994859869-ppbpw      1/1     Running   0             34s\npod/mongodb-user-969c6c449-dthvq              1/1     Running   0             33s\npod/profile-8b6dd7c6c-45dr6                   1/1     Running   0             35s\npod/rate-7bdc978679-n7k74                     1/1     Running   0             35s\npod/recommendation-6879fb56bf-98vl9           1/1     Running   0             34s\npod/reservation-78c9f7976b-rljjf              1/1     Running   1 (14s ago)   34s\npod/search-5c64c8f5bc-8q5m4                   1/1     Running   0             33s\npod/user-66d5d6f874-qk6kk                     1/1     Running   1 (19s ago)   33s\npod/wrk2-job-44c1044a-g5n25                   0/1     Error     0             8s\n\nNAME                             TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                                                                       AGE\nservice/consul                   ClusterIP   10.96.238.156   <none>        8300/TCP,8400/TCP,8500/TCP,8600/UDP                                           36s\nservice/frontend                 ClusterIP   10.96.254.153   <none>        5000/TCP                                                                      36s\nservice/geo                      ClusterIP   10.96.109.85    <none>        8083/TCP                                                                      36s\nservice/jaeger                   ClusterIP   10.96.198.102   <none>        14269/TCP,5778/TCP,14268/TCP,14267/TCP,16686/TCP,5775/UDP,6831/UDP,6832/UDP   35s\nservice/jaeger-out               NodePort    10.96.180.92    <none>        16686:30461/TCP                                                               36s\nservice/memcached-profile        ClusterIP   10.96.52.203    <none>        11211/TCP                                                                     35s\nservice/memcached-rate           ClusterIP   10.96.240.143   <none>        11211/TCP                                                                     35s\nservice/memcached-reserve        ClusterIP   10.96.183.85    <none>        11211/TCP                                                                     35s\nservice/mongodb-geo              ClusterIP   10.96.134.190   <none>        27017/TCP                                                                     36s\nservice/mongodb-profile          ClusterIP   10.96.198.31    <none>        27017/TCP                                                                     35s\nservice/mongodb-rate             ClusterIP   10.96.59.172    <none>        27017/TCP                                                                     35s\nservice/mongodb-recommendation   ClusterIP   10.96.251.127   <none>        27017/TCP                                                                     35s\nservice/mongodb-reservation      ClusterIP   10.96.106.97    <none>        27017/TCP                                                                     35s\nservice/mongodb-user             ClusterIP   10.96.184.196   <none>        27017/TCP                                                                     35s\nservice/profile                  ClusterIP   10.96.175.223   <none>        8081/TCP                                                                      35s\nservice/rate                     ClusterIP   10.96.35.247    <none>        8084/TCP                                                                      35s\nservice/recommendation           ClusterIP   10.96.145.152   <none>        8085/TCP                                                                      35s\nservice/reservation              ClusterIP   10.96.170.74    <none>        8087/TCP                                                                      35s\nservice/search                   ClusterIP   10.96.100.101   <none>        8082/TCP                                                                      35s\nservice/user                     ClusterIP   10.96.38.133    <none>        8086/TCP                                                                      35s\n\nNAME                                     READY   UP-TO-DATE   AVAILABLE   AGE\ndeployment.apps/consul                   1/1     1            1           36s\ndeployment.apps/frontend                 1/1     1            1           36s\ndeployment.apps/geo                      0/1     1            0           36s\ndeployment.apps/jaeger                   1/1     1            1           36s\ndeployment.apps/memcached-profile        1/1     1            1           35s\ndeployment.apps/memcached-rate           1/1     1            1           35s\ndeployment.apps/memcached-reserve        1/1     1            1           35s\ndeployment.apps/mongodb-geo              1/1     1            1           36s\ndeployment.apps/mongodb-profile          1/1     1            1           35s\ndeployment.apps/mongodb-rate             1/1     1            1           35s\ndeployment.apps/mongodb-recommendation   1/1     1            1           35s\ndeployment.apps/mongodb-reservation      1/1     1            1           35s\ndeployment.apps/mongodb-user             1/1     1            1           35s\ndeployment.apps/profile                  1/1     1            1           35s\ndeployment.apps/rate                     1/1     1            1           35s\ndeployment.apps/recommendation           1/1     1            1           35s\ndeployment.apps/reservation              1/1     1            1           35s\ndeployment.apps/search                   1/1     1            1           35s\ndeployment.apps/user                     1/1     1            1           35s\n\nNAME                                                DESIRED   CURRENT   READY   AGE\nreplicaset.apps/consul-78c8d79bb                    1         1         1       36s\nreplicaset.apps/frontend-7fc7ddc9db                 1         1         1       36s\nreplicaset.apps/geo-84fbc958c7                      1         1         0       36s\nreplicaset.apps/jaeger-67445b6dd6                   1         1         1       36s\nreplicaset.apps/memcached-profile-668dcd6dbb        1         1         1       35s\nreplicaset.apps/memcached-rate-5b666ddfcb           1         1         1       35s\nreplicaset.apps/memcached-reserve-5bf87f5d54        1         1         1       34s\nreplicaset.apps/mongodb-geo-5ff578bcb8              1         1         1       36s\nreplicaset.apps/mongodb-profile-758cb77f9f          1         1         1       35s\nreplicaset.apps/mongodb-rate-56cc8659c9             1         1         1       35s\nreplicaset.apps/mongodb-recommendation-55699465f7   1         1         1       35s\nreplicaset.apps/mongodb-reservation-5994859869      1         1         1       34s\nreplicaset.apps/mongodb-user-969c6c449              1         1         1       34s\nreplicaset.apps/profile-8b6dd7c6c                   1         1         1       35s\nreplicaset.apps/rate-7bdc978679                     1         1         1       35s\nreplicaset.apps/recommendation-6879fb56bf           1         1         1       34s\nreplicaset.apps/reservation-78c9f7976b              1         1         1       34s\nreplicaset.apps/search-5c64c8f5bc                   1         1         1       34s\nreplicaset.apps/user-66d5d6f874                     1         1         1       33s\n\nNAME                          STATUS    COMPLETIONS   DURATION   AGE\njob.batch/wrk2-job-44c1044a   Running   0/1           8s         8s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get deployments -n test-hotel-reservation -o wide\")",
      "command": "exec_shell(\"kubectl get deployments -n test-hotel-reservation-44c1044a -o wide\")",
      "result": "NAME                     READY   UP-TO-DATE   AVAILABLE   AGE   CONTAINERS                          IMAGES                                SELECTOR\nconsul                   1/1     1            1           37s   consul                              hashicorp/consul:latest               io.kompose.service=consul\nfrontend                 1/1     1            1           37s   hotel-reserv-frontend               yinfangchen/hotelreservation:latest   io.kompose.service=frontend\ngeo                      0/1     1            0           37s   hotel-reserv-geo                    yinfangchen/hotelreservation:latest   io.kompose.service=geo\njaeger                   1/1     1            1           37s   hotel-reserv-jaeger                 jaegertracing/all-in-one:1.57         io.kompose.service=jaeger\nmemcached-profile        1/1     1            1           36s   hotel-reserv-profile-mmc            memcached:1.6.7                       io.kompose.service=memcached-profile\nmemcached-rate           1/1     1            1           36s   hotel-reserv-rate-mmc               memcached:1.6.7                       io.kompose.service=memcached-rate\nmemcached-reserve        1/1     1            1           36s   hotel-reserv-reservation-mmc        memcached:1.6.7                       io.kompose.service=memcached-reserve\nmongodb-geo              1/1     1            1           37s   hotel-reserv-geo-mongo              mongo:4.4.6                           io.kompose.service=mongodb-geo\nmongodb-profile          1/1     1            1           36s   hotel-reserv-profile-mongo          mongo:4.4.6                           io.kompose.service=mongodb-profile\nmongodb-rate             1/1     1            1           36s   hotel-reserv-rate-mongo             mongo:4.4.6                           io.kompose.service=mongodb-rate\nmongodb-recommendation   1/1     1            1           36s   hotel-reserv-recommendation-mongo   mongo:4.4.6                           io.kompose.service=mongodb-recommendation\nmongodb-reservation      1/1     1            1           36s   hotel-reserv-reservation-mongo      mongo:4.4.6                           io.kompose.service=mongodb-reservation\nmongodb-user             1/1     1            1           36s   hotel-reserv-user-mongo             mongo:4.4.6                           io.kompose.service=mongodb-user\nprofile                  1/1     1            1           36s   hotel-reserv-profile                yinfangchen/hotelreservation:latest   io.kompose.service=profile\nrate                     1/1     1            1           36s   hotel-reserv-rate                   yinfangchen/hotelreservation:latest   io.kompose.service=rate\nrecommendation           1/1     1            1           36s   hotel-reserv-recommendation         yinfangchen/hotelreservation:latest   io.kompose.service=recommendation\nreservation              1/1     1            1           36s   hotel-reserv-reservation            yinfangchen/hotelreservation:latest   io.kompose.service=reservation\nsearch                   1/1     1            1           36s   hotel-reserv-search                 yinfangchen/hotelreservation:latest   io.kompose.service=search\nuser                     1/1     1            1           36s   hotel-reserv-user                   yinfangchen/hotelreservation:latest   io.kompose.service=user\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation | grep -E '(geo-|mongodb-geo)'\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-44c1044a | grep -E '(geo-|mongodb-geo)'\")",
      "result": "geo-84fbc958c7-c26cc                      0/1     Error     1 (16s ago)   17s\nmongodb-geo-5ff578bcb8-q4tsg              1/1     Running   0             16s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation -l io.kompose.service=geo\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-44c1044a -l io.kompose.service=geo\")",
      "result": "NAME                   READY   STATUS   RESTARTS      AGE\ngeo-84fbc958c7-c26cc   0/1     Error    1 (17s ago)   18s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe pod geo-84fbc958c7-lpqmr -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe pod geo-84fbc958c7-lpqmr -n test-hotel-reservation-44c1044a\")",
      "result": "Error from server (NotFound): pods \"geo-84fbc958c7-lpqmr\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get events -n test-hotel-reservation --sort-by='.lastTimestamp'\")",
      "command": "exec_shell(\"kubectl get events -n test-hotel-reservation-44c1044a --sort-by='.lastTimestamp'\")",
      "result": "LAST SEEN   TYPE      REASON                  OBJECT                                         MESSAGE\n40s         Normal    Scheduled               pod/geo-84fbc958c7-c6g2d                       Successfully assigned test-hotel-reservation-44c1044a/geo-84fbc958c7-c6g2d to kind-worker\n40s         Normal    SuccessfulCreate        replicaset/mongodb-geo-5ff578bcb8              Created pod: mongodb-geo-5ff578bcb8-624cb\n40s         Normal    ScalingReplicaSet       deployment/jaeger                              Scaled up replica set jaeger-67445b6dd6 from 0 to 1\n40s         Normal    SuccessfulCreate        replicaset/jaeger-67445b6dd6                   Created pod: jaeger-67445b6dd6-gvrkt\n40s         Normal    SuccessfulCreate        replicaset/consul-78c8d79bb                    Created pod: consul-78c8d79bb-c6dpz\n40s         Normal    ScalingReplicaSet       deployment/consul                              Scaled up replica set consul-78c8d79bb from 0 to 1\n40s         Normal    Scheduled               pod/frontend-7fc7ddc9db-fffsz                  Successfully assigned test-hotel-reservation-44c1044a/frontend-7fc7ddc9db-fffsz to kind-worker\n40s         Normal    Scheduled               pod/consul-78c8d79bb-c6dpz                     Successfully assigned test-hotel-reservation-44c1044a/consul-78c8d79bb-c6dpz to kind-worker\n40s         Normal    ScalingReplicaSet       deployment/mongodb-geo                         Scaled up replica set mongodb-geo-5ff578bcb8 from 0 to 1\n40s         Normal    Scheduled               pod/jaeger-67445b6dd6-gvrkt                    Successfully assigned test-hotel-reservation-44c1044a/jaeger-67445b6dd6-gvrkt to kind-worker\n40s         Normal    SuccessfulCreate        replicaset/frontend-7fc7ddc9db                 Created pod: frontend-7fc7ddc9db-fffsz\n40s         Normal    ScalingReplicaSet       deployment/frontend                            Scaled up replica set frontend-7fc7ddc9db from 0 to 1\n40s         Normal    ScalingReplicaSet       deployment/geo                                 Scaled up replica set geo-84fbc958c7 from 0 to 1\n40s         Normal    Provisioning            persistentvolumeclaim/geo-pvc                  External provisioner is provisioning volume for claim \"test-hotel-reservation-44c1044a/geo-pvc\"\n40s         Normal    WaitForFirstConsumer    persistentvolumeclaim/geo-pvc                  waiting for first consumer to be created before binding\n40s         Normal    SuccessfulCreate        replicaset/geo-84fbc958c7                      Created pod: geo-84fbc958c7-c6g2d\n39s         Normal    Scheduled               pod/profile-8b6dd7c6c-45dr6                    Successfully assigned test-hotel-reservation-44c1044a/profile-8b6dd7c6c-45dr6 to kind-worker\n39s         Normal    Provisioning            persistentvolumeclaim/rate-pvc                 External provisioner is provisioning volume for claim \"test-hotel-reservation-44c1044a/rate-pvc\"\n39s         Normal    WaitForFirstConsumer    persistentvolumeclaim/profile-pvc              waiting for first consumer to be created before binding\n39s         Normal    SuccessfulCreate        replicaset/profile-8b6dd7c6c                   Created pod: profile-8b6dd7c6c-45dr6\n39s         Normal    Scheduled               pod/memcached-rate-5b666ddfcb-5q5m4            Successfully assigned test-hotel-reservation-44c1044a/memcached-rate-5b666ddfcb-5q5m4 to kind-worker\n39s         Normal    ScalingReplicaSet       deployment/mongodb-recommendation              Scaled up replica set mongodb-recommendation-55699465f7 from 0 to 1\n39s         Normal    ScalingReplicaSet       deployment/profile                             Scaled up replica set profile-8b6dd7c6c from 0 to 1\n39s         Normal    SuccessfulCreate        replicaset/mongodb-recommendation-55699465f7   Created pod: mongodb-recommendation-55699465f7-qhx8d\n39s         Normal    Scheduled               pod/rate-7bdc978679-n7k74                      Successfully assigned test-hotel-reservation-44c1044a/rate-7bdc978679-n7k74 to kind-worker\n39s         Normal    ScalingReplicaSet       deployment/mongodb-rate                        Scaled up replica set mongodb-rate-56cc8659c9 from 0 to 1\n39s         Normal    SuccessfulCreate        replicaset/rate-7bdc978679                     Created pod: rate-7bdc978679-n7k74\n39s         Normal    SuccessfulCreate        replicaset/mongodb-rate-56cc8659c9             Created pod: mongodb-rate-56cc8659c9-cz7nf\n39s         Normal    WaitForFirstConsumer    persistentvolumeclaim/rate-pvc                 waiting for first consumer to be created before binding\n39s         Normal    Provisioning            persistentvolumeclaim/profile-pvc              External provisioner is provisioning volume for claim \"test-hotel-reservation-44c1044a/profile-pvc\"\n39s         Normal    ScalingReplicaSet       deployment/mongodb-profile                     Scaled up replica set mongodb-profile-758cb77f9f from 0 to 1\n39s         Normal    SuccessfulCreate        replicaset/mongodb-profile-758cb77f9f          Created pod: mongodb-profile-758cb77f9f-qzbv8\n39s         Normal    ScalingReplicaSet       deployment/rate                                Scaled up replica set rate-7bdc978679 from 0 to 1\n39s         Normal    WaitForFirstConsumer    persistentvolumeclaim/recommendation-pvc       waiting for first consumer to be created before binding\n39s         Normal    WaitForFirstConsumer    persistentvolumeclaim/reservation-pvc          waiting for first consumer to be created before binding\n39s         Normal    Scheduled               pod/memcached-profile-668dcd6dbb-sk28x         Successfully assigned test-hotel-reservation-44c1044a/memcached-profile-668dcd6dbb-sk28x to kind-worker\n39s         Normal    WaitForFirstConsumer    persistentvolumeclaim/user-pvc                 waiting for first consumer to be created before binding\n39s         Normal    ScalingReplicaSet       deployment/memcached-rate                      Scaled up replica set memcached-rate-5b666ddfcb from 0 to 1\n39s         Normal    SuccessfulCreate        replicaset/memcached-rate-5b666ddfcb           Created pod: memcached-rate-5b666ddfcb-5q5m4\n39s         Normal    SuccessfulCreate        replicaset/memcached-profile-668dcd6dbb        Created pod: memcached-profile-668dcd6dbb-sk28x\n39s         Normal    ScalingReplicaSet       deployment/memcached-profile                   Scaled up replica set memcached-profile-668dcd6dbb from 0 to 1\n38s         Normal    SuccessfulCreate        replicaset/recommendation-6879fb56bf           Created pod: recommendation-6879fb56bf-98vl9\n38s         Normal    ScalingReplicaSet       deployment/mongodb-user                        Scaled up replica set mongodb-user-969c6c449 from 0 to 1\n38s         Normal    SuccessfulCreate        replicaset/mongodb-reservation-5994859869      Created pod: mongodb-reservation-5994859869-ppbpw\n38s         Normal    Provisioning            persistentvolumeclaim/recommendation-pvc       External provisioner is provisioning volume for claim \"test-hotel-reservation-44c1044a/recommendation-pvc\"\n38s         Normal    ScalingReplicaSet       deployment/recommendation                      Scaled up replica set recommendation-6879fb56bf from 0 to 1\n38s         Normal    Scheduled               pod/reservation-78c9f7976b-rljjf               Successfully assigned test-hotel-reservation-44c1044a/reservation-78c9f7976b-rljjf to kind-worker\n38s         Normal    Scheduled               pod/memcached-reserve-5bf87f5d54-rs4zn         Successfully assigned test-hotel-reservation-44c1044a/memcached-reserve-5bf87f5d54-rs4zn to kind-worker\n38s         Normal    SuccessfulCreate        replicaset/reservation-78c9f7976b              Created pod: reservation-78c9f7976b-rljjf\n38s         Normal    ScalingReplicaSet       deployment/reservation                         Scaled up replica set reservation-78c9f7976b from 0 to 1\n38s         Normal    ScalingReplicaSet       deployment/mongodb-reservation                 Scaled up replica set mongodb-reservation-5994859869 from 0 to 1\n38s         Normal    SuccessfulCreate        replicaset/memcached-reserve-5bf87f5d54        Created pod: memcached-reserve-5bf87f5d54-rs4zn\n38s         Normal    ScalingReplicaSet       deployment/memcached-reserve                   Scaled up replica set memcached-reserve-5bf87f5d54 from 0 to 1\n38s         Normal    ScalingReplicaSet       deployment/search                              Scaled up replica set search-5c64c8f5bc from 0 to 1\n38s         Normal    Scheduled               pod/recommendation-6879fb56bf-98vl9            Successfully assigned test-hotel-reservation-44c1044a/recommendation-6879fb56bf-98vl9 to kind-worker\n37s         Normal    SuccessfulCreate        replicaset/user-66d5d6f874                     Created pod: user-66d5d6f874-qk6kk\n37s         Normal    SuccessfulCreate        replicaset/search-5c64c8f5bc                   Created pod: search-5c64c8f5bc-8q5m4\n37s         Normal    ScalingReplicaSet       deployment/user                                Scaled up replica set user-66d5d6f874 from 0 to 1\n37s         Normal    Scheduled               pod/search-5c64c8f5bc-8q5m4                    Successfully assigned test-hotel-reservation-44c1044a/search-5c64c8f5bc-8q5m4 to kind-worker\n37s         Normal    SuccessfulCreate        replicaset/mongodb-user-969c6c449              Created pod: mongodb-user-969c6c449-dthvq\n37s         Normal    Scheduled               pod/user-66d5d6f874-qk6kk                      Successfully assigned test-hotel-reservation-44c1044a/user-66d5d6f874-qk6kk to kind-worker\n35s         Normal    Started                 pod/jaeger-67445b6dd6-gvrkt                    Started container hotel-reserv-jaeger\n35s         Normal    Created                 pod/consul-78c8d79bb-c6dpz                     Created container: consul\n35s         Normal    Pulled                  pod/consul-78c8d79bb-c6dpz                     Container image \"hashicorp/consul:latest\" already present on machine\n35s         Normal    Started                 pod/consul-78c8d79bb-c6dpz                     Started container consul\n35s         Normal    Created                 pod/profile-8b6dd7c6c-45dr6                    Created container: hotel-reserv-profile\n35s         Normal    Pulled                  pod/frontend-7fc7ddc9db-fffsz                  Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n35s         Normal    Created                 pod/frontend-7fc7ddc9db-fffsz                  Created container: hotel-reserv-frontend\n35s         Normal    Pulled                  pod/profile-8b6dd7c6c-45dr6                    Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n35s         Normal    Created                 pod/jaeger-67445b6dd6-gvrkt                    Created container: hotel-reserv-jaeger\n35s         Normal    Pulled                  pod/jaeger-67445b6dd6-gvrkt                    Container image \"jaegertracing/all-in-one:1.57\" already present on machine\n35s         Normal    Started                 pod/memcached-profile-668dcd6dbb-sk28x         Started container hotel-reserv-profile-mmc\n35s         Normal    Started                 pod/frontend-7fc7ddc9db-fffsz                  Started container hotel-reserv-frontend\n35s         Normal    Created                 pod/memcached-profile-668dcd6dbb-sk28x         Created container: hotel-reserv-profile-mmc\n35s         Normal    Pulled                  pod/memcached-profile-668dcd6dbb-sk28x         Container image \"memcached:1.6.7\" already present on machine\n34s         Normal    Pulled                  pod/memcached-reserve-5bf87f5d54-rs4zn         Container image \"memcached:1.6.7\" already present on machine\n34s         Normal    Pulled                  pod/recommendation-6879fb56bf-98vl9            Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n34s         Normal    Created                 pod/memcached-reserve-5bf87f5d54-rs4zn         Created container: hotel-reserv-reservation-mmc\n34s         Normal    Created                 pod/recommendation-6879fb56bf-98vl9            Created container: hotel-reserv-recommendation\n34s         Normal    Started                 pod/recommendation-6879fb56bf-98vl9            Started container hotel-reserv-recommendation\n34s         Normal    Created                 pod/rate-7bdc978679-n7k74                      Created container: hotel-reserv-rate\n34s         Normal    Started                 pod/memcached-reserve-5bf87f5d54-rs4zn         Started container hotel-reserv-reservation-mmc\n34s         Normal    Started                 pod/rate-7bdc978679-n7k74                      Started container hotel-reserv-rate\n34s         Normal    Pulled                  pod/memcached-rate-5b666ddfcb-5q5m4            Container image \"memcached:1.6.7\" already present on machine\n34s         Normal    Started                 pod/memcached-rate-5b666ddfcb-5q5m4            Started container hotel-reserv-rate-mmc\n34s         Normal    Started                 pod/profile-8b6dd7c6c-45dr6                    Started container hotel-reserv-profile\n34s         Normal    Pulled                  pod/rate-7bdc978679-n7k74                      Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n34s         Normal    Created                 pod/memcached-rate-5b666ddfcb-5q5m4            Created container: hotel-reserv-rate-mmc\n33s         Normal    ExternalProvisioning    persistentvolumeclaim/user-pvc                 Waiting for a volume to be created either by the external provisioner 'openebs.io/local' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered.\n33s         Normal    ExternalProvisioning    persistentvolumeclaim/profile-pvc              Waiting for a volume to be created either by the external provisioner 'openebs.io/local' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered.\n33s         Normal    ExternalProvisioning    persistentvolumeclaim/reservation-pvc          Waiting for a volume to be created either by the external provisioner 'openebs.io/local' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered.\n33s         Normal    ExternalProvisioning    persistentvolumeclaim/rate-pvc                 Waiting for a volume to be created either by the external provisioner 'openebs.io/local' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered.\n33s         Normal    ExternalProvisioning    persistentvolumeclaim/geo-pvc                  Waiting for a volume to be created either by the external provisioner 'openebs.io/local' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered.\n33s         Normal    ExternalProvisioning    persistentvolumeclaim/recommendation-pvc       Waiting for a volume to be created either by the external provisioner 'openebs.io/local' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered.\n33s         Normal    Pulled                  pod/search-5c64c8f5bc-8q5m4                    Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n33s         Normal    Created                 pod/search-5c64c8f5bc-8q5m4                    Created container: hotel-reserv-search\n33s         Normal    Started                 pod/search-5c64c8f5bc-8q5m4                    Started container hotel-reserv-search\n32s         Normal    ProvisioningSucceeded   persistentvolumeclaim/geo-pvc                  Successfully provisioned volume pvc-e9e2113f-2932-4e68-a96a-befcb2958961\n31s         Normal    Provisioning            persistentvolumeclaim/reservation-pvc          External provisioner is provisioning volume for claim \"test-hotel-reservation-44c1044a/reservation-pvc\"\n31s         Normal    Scheduled               pod/mongodb-geo-5ff578bcb8-624cb               Successfully assigned test-hotel-reservation-44c1044a/mongodb-geo-5ff578bcb8-624cb to kind-worker\n30s         Normal    Started                 pod/mongodb-geo-5ff578bcb8-624cb               Started container hotel-reserv-geo-mongo\n30s         Normal    Created                 pod/mongodb-geo-5ff578bcb8-624cb               Created container: hotel-reserv-geo-mongo\n30s         Normal    ProvisioningSucceeded   persistentvolumeclaim/profile-pvc              Successfully provisioned volume pvc-c780097e-eb40-4329-9281-ded226f51326\n30s         Normal    Pulled                  pod/mongodb-geo-5ff578bcb8-624cb               Container image \"mongo:4.4.6\" already present on machine\n29s         Normal    Provisioning            persistentvolumeclaim/user-pvc                 External provisioner is provisioning volume for claim \"test-hotel-reservation-44c1044a/user-pvc\"\n29s         Normal    Scheduled               pod/mongodb-profile-758cb77f9f-qzbv8           Successfully assigned test-hotel-reservation-44c1044a/mongodb-profile-758cb77f9f-qzbv8 to kind-worker\n28s         Normal    Scheduled               pod/mongodb-rate-56cc8659c9-cz7nf              Successfully assigned test-hotel-reservation-44c1044a/mongodb-rate-56cc8659c9-cz7nf to kind-worker\n28s         Normal    ProvisioningSucceeded   persistentvolumeclaim/rate-pvc                 Successfully provisioned volume pvc-e6b336e9-a7a3-4416-aa1e-6415d1336ab8\n28s         Normal    Pulled                  pod/mongodb-profile-758cb77f9f-qzbv8           Container image \"mongo:4.4.6\" already present on machine\n28s         Normal    Created                 pod/mongodb-profile-758cb77f9f-qzbv8           Created container: hotel-reserv-profile-mongo\n28s         Normal    Started                 pod/mongodb-profile-758cb77f9f-qzbv8           Started container hotel-reserv-profile-mongo\n28s         Normal    ProvisioningSucceeded   persistentvolumeclaim/recommendation-pvc       Successfully provisioned volume pvc-66cda1f1-c789-4fed-8a71-42124bbdafd8\n27s         Normal    Created                 pod/mongodb-rate-56cc8659c9-cz7nf              Created container: hotel-reserv-rate-mongo\n27s         Normal    Pulled                  pod/mongodb-rate-56cc8659c9-cz7nf              Container image \"mongo:4.4.6\" already present on machine\n27s         Normal    Scheduled               pod/mongodb-recommendation-55699465f7-qhx8d    Successfully assigned test-hotel-reservation-44c1044a/mongodb-recommendation-55699465f7-qhx8d to kind-worker\n26s         Normal    Started                 pod/mongodb-rate-56cc8659c9-cz7nf              Started container hotel-reserv-rate-mongo\n26s         Normal    ProvisioningSucceeded   persistentvolumeclaim/reservation-pvc          Successfully provisioned volume pvc-31f9a276-652e-4c55-85fa-8f19eb9aef53\n26s         Normal    Pulled                  pod/mongodb-recommendation-55699465f7-qhx8d    Container image \"mongo:4.4.6\" already present on machine\n26s         Normal    Created                 pod/mongodb-recommendation-55699465f7-qhx8d    Created container: hotel-reserv-recommendation-mongo\n26s         Normal    Started                 pod/mongodb-recommendation-55699465f7-qhx8d    Started container hotel-reserv-recommendation-mongo\n26s         Normal    Scheduled               pod/mongodb-reservation-5994859869-ppbpw       Successfully assigned test-hotel-reservation-44c1044a/mongodb-reservation-5994859869-ppbpw to kind-worker\n25s         Normal    Created                 pod/mongodb-reservation-5994859869-ppbpw       Created container: hotel-reserv-reservation-mongo\n25s         Normal    Pulled                  pod/mongodb-reservation-5994859869-ppbpw       Container image \"mongo:4.4.6\" already present on machine\n25s         Normal    Started                 pod/mongodb-reservation-5994859869-ppbpw       Started container hotel-reserv-reservation-mongo\n24s         Normal    ProvisioningSucceeded   persistentvolumeclaim/user-pvc                 Successfully provisioned volume pvc-073fbe22-67c7-4ac1-a765-bcec6e2182a4\n23s         Normal    Pulled                  pod/mongodb-user-969c6c449-dthvq               Container image \"mongo:4.4.6\" already present on machine\n23s         Normal    Scheduled               pod/mongodb-user-969c6c449-dthvq               Successfully assigned test-hotel-reservation-44c1044a/mongodb-user-969c6c449-dthvq to kind-worker\n23s         Normal    Created                 pod/mongodb-user-969c6c449-dthvq               Created container: hotel-reserv-user-mongo\n23s         Normal    Started                 pod/geo-84fbc958c7-c6g2d                       Started container hotel-reserv-geo\n23s         Normal    Created                 pod/geo-84fbc958c7-c6g2d                       Created container: hotel-reserv-geo\n23s         Normal    Pulled                  pod/geo-84fbc958c7-c6g2d                       Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n22s         Normal    Created                 pod/user-66d5d6f874-qk6kk                      Created container: hotel-reserv-user\n22s         Normal    Started                 pod/user-66d5d6f874-qk6kk                      Started container hotel-reserv-user\n22s         Normal    Started                 pod/mongodb-user-969c6c449-dthvq               Started container hotel-reserv-user-mongo\n22s         Normal    Pulled                  pod/user-66d5d6f874-qk6kk                      Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n20s         Normal    Scheduled               pod/geo-84fbc958c7-c26cc                       Successfully assigned test-hotel-reservation-44c1044a/geo-84fbc958c7-c26cc to kind-worker\n20s         Normal    SuccessfulCreate        replicaset/geo-84fbc958c7                      Created pod: geo-84fbc958c7-c26cc\n20s         Normal    Killing                 pod/geo-84fbc958c7-c6g2d                       Stopping container hotel-reserv-geo\n19s         Normal    Killing                 pod/mongodb-geo-5ff578bcb8-624cb               Stopping container hotel-reserv-geo-mongo\n19s         Normal    SuccessfulCreate        replicaset/mongodb-geo-5ff578bcb8              Created pod: mongodb-geo-5ff578bcb8-q4tsg\n19s         Normal    Scheduled               pod/mongodb-geo-5ff578bcb8-q4tsg               Successfully assigned test-hotel-reservation-44c1044a/mongodb-geo-5ff578bcb8-q4tsg to kind-worker\n18s         Normal    Pulled                  pod/mongodb-geo-5ff578bcb8-q4tsg               Container image \"mongo:4.4.6\" already present on machine\n18s         Normal    Started                 pod/geo-84fbc958c7-c26cc                       Started container hotel-reserv-geo\n18s         Normal    Created                 pod/geo-84fbc958c7-c26cc                       Created container: hotel-reserv-geo\n18s         Normal    Pulled                  pod/geo-84fbc958c7-c26cc                       Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n17s         Normal    Started                 pod/reservation-78c9f7976b-rljjf               Started container hotel-reserv-reservation\n17s         Normal    Created                 pod/reservation-78c9f7976b-rljjf               Created container: hotel-reserv-reservation\n17s         Normal    Started                 pod/mongodb-geo-5ff578bcb8-q4tsg               Started container hotel-reserv-geo-mongo\n17s         Normal    Pulled                  pod/reservation-78c9f7976b-rljjf               Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n17s         Normal    Created                 pod/mongodb-geo-5ff578bcb8-q4tsg               Created container: hotel-reserv-geo-mongo\n12s         Normal    SuccessfulCreate        job/wrk2-job-44c1044a                          Created pod: wrk2-job-44c1044a-g5n25\n12s         Warning   BackOff                 pod/geo-84fbc958c7-c26cc                       Back-off restarting failed container hotel-reserv-geo in pod geo-84fbc958c7-c26cc_test-hotel-reservation-44c1044a(fbea3577-2f78-4e42-882b-8a358499cce8)\n12s         Normal    Scheduled               pod/wrk2-job-44c1044a-g5n25                    Successfully assigned test-hotel-reservation-44c1044a/wrk2-job-44c1044a-g5n25 to kind-worker\n11s         Normal    Pulled                  pod/wrk2-job-44c1044a-g5n25                    Container image \"deathstarbench/wrk2-client:latest\" already present on machine\n11s         Normal    Started                 pod/wrk2-job-44c1044a-g5n25                    Started container wrk2\n11s         Normal    Created                 pod/wrk2-job-44c1044a-g5n25                    Created container: wrk2\n1s          Normal    Scheduled               pod/wrk2-job-44c1044a-gk7jx                    Successfully assigned test-hotel-reservation-44c1044a/wrk2-job-44c1044a-gk7jx to kind-worker\n1s          Normal    Pulled                  pod/wrk2-job-44c1044a-gk7jx                    Container image \"deathstarbench/wrk2-client:latest\" already present on machine\n1s          Normal    Created                 pod/wrk2-job-44c1044a-gk7jx                    Created container: wrk2\n1s          Normal    Started                 pod/wrk2-job-44c1044a-gk7jx                    Started container wrk2\n1s          Normal    SuccessfulCreate        job/wrk2-job-44c1044a                          Created pod: wrk2-job-44c1044a-gk7jx\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get events -n test-hotel-reservation --field-selector involvedObject.name=geo-84fbc958c7-lpqmr\")",
      "command": "exec_shell(\"kubectl get events -n test-hotel-reservation-44c1044a --field-selector involvedObject.name=geo-84fbc958c7-lpqmr\")",
      "result": "No resources found in test-hotel-reservation-44c1044a namespace.\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs geo-84fbc958c7-lpqmr -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl logs geo-84fbc958c7-lpqmr -n test-hotel-reservation-44c1044a\")",
      "result": "error: error from server (NotFound): pods \"geo-84fbc958c7-lpqmr\" not found in namespace \"test-hotel-reservation-44c1044a\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs geo-84fbc958c7-lpqmr -n test-hotel-reservation --previous\")",
      "command": "exec_shell(\"kubectl logs geo-84fbc958c7-lpqmr -n test-hotel-reservation-44c1044a --previous\")",
      "result": "error: error from server (NotFound): pods \"geo-84fbc958c7-lpqmr\" not found in namespace \"test-hotel-reservation-44c1044a\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs geo-84fbc958c7-lpqmr -n test-hotel-reservation --tail=100\")",
      "command": "exec_shell(\"kubectl logs geo-84fbc958c7-lpqmr -n test-hotel-reservation-44c1044a --tail=100\")",
      "result": "error: error from server (NotFound): pods \"geo-84fbc958c7-lpqmr\" not found in namespace \"test-hotel-reservation-44c1044a\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs geo-84fbc958c7-lpqmr -n test-hotel-reservation --since=10m\")",
      "command": "exec_shell(\"kubectl logs geo-84fbc958c7-lpqmr -n test-hotel-reservation-44c1044a --since=10m\")",
      "result": "error: error from server (NotFound): pods \"geo-84fbc958c7-lpqmr\" not found in namespace \"test-hotel-reservation-44c1044a\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get deployment geo -n test-hotel-reservation -o yaml\")",
      "command": "exec_shell(\"kubectl get deployment geo -n test-hotel-reservation-44c1044a -o yaml\")",
      "result": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  annotations:\n    deployment.kubernetes.io/revision: \"1\"\n    kompose.cmd: kompose convert\n    kompose.version: 1.22.0 (955b78124)\n    kubectl.kubernetes.io/last-applied-configuration: |\n      {\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"kompose.cmd\":\"kompose convert\",\"kompose.version\":\"1.22.0 (955b78124)\"},\"creationTimestamp\":null,\"labels\":{\"io.kompose.service\":\"geo\"},\"name\":\"geo\",\"namespace\":\"test-hotel-reservation-44c1044a\"},\"spec\":{\"replicas\":1,\"selector\":{\"matchLabels\":{\"io.kompose.service\":\"geo\"}},\"strategy\":{},\"template\":{\"metadata\":{\"annotations\":{\"kompose.cmd\":\"kompose convert\",\"kompose.version\":\"1.22.0 (955b78124)\",\"sidecar.istio.io/statsInclusionPrefixes\":\"cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\",\"sidecar.istio.io/statsInclusionRegexps\":\"http.*\"},\"creationTimestamp\":null,\"labels\":{\"io.kompose.service\":\"geo\"}},\"spec\":{\"containers\":[{\"command\":[\"geo\"],\"env\":[{\"name\":\"JAEGER_SAMPLE_RATIO\",\"value\":\"1\"}],\"image\":\"yinfangchen/hotelreservation:latest\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"hotel-reserv-geo\",\"ports\":[{\"containerPort\":8083}],\"resources\":{\"limits\":{\"cpu\":\"1000m\"},\"requests\":{\"cpu\":\"100m\"}}}],\"restartPolicy\":\"Always\"}}},\"status\":{}}\n  creationTimestamp: \"2025-12-24T10:13:13Z\"\n  generation: 1\n  labels:\n    io.kompose.service: geo\n  name: geo\n  namespace: test-hotel-reservation-44c1044a\n  resourceVersion: \"70310\"\n  uid: 8c38f303-6293-466c-8398-c4cf82c5ea1e\nspec:\n  progressDeadlineSeconds: 600\n  replicas: 1\n  revisionHistoryLimit: 10\n  selector:\n    matchLabels:\n      io.kompose.service: geo\n  strategy:\n    rollingUpdate:\n      maxSurge: 25%\n      maxUnavailable: 25%\n    type: RollingUpdate\n  template:\n    metadata:\n      annotations:\n        kompose.cmd: kompose convert\n        kompose.version: 1.22.0 (955b78124)\n        sidecar.istio.io/statsInclusionPrefixes: cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\n        sidecar.istio.io/statsInclusionRegexps: http.*\n      creationTimestamp: null\n      labels:\n        io.kompose.service: geo\n    spec:\n      containers:\n      - command:\n        - geo\n        env:\n        - name: JAEGER_SAMPLE_RATIO\n          value: \"1\"\n        image: yinfangchen/hotelreservation:latest\n        imagePullPolicy: IfNotPresent\n        name: hotel-reserv-geo\n        ports:\n        - containerPort: 8083\n          protocol: TCP\n        resources:\n          limits:\n            cpu: \"1\"\n          requests:\n            cpu: 100m\n        terminationMessagePath: /dev/termination-log\n        terminationMessagePolicy: File\n      dnsPolicy: ClusterFirst\n      restartPolicy: Always\n      schedulerName: default-scheduler\n      securityContext: {}\n      terminationGracePeriodSeconds: 30\nstatus:\n  conditions:\n  - lastTransitionTime: \"2025-12-24T10:13:13Z\"\n    lastUpdateTime: \"2025-12-24T10:13:19Z\"\n    message: ReplicaSet \"geo-84fbc958c7\" has successfully progressed.\n    reason: NewReplicaSetAvailable\n    status: \"True\"\n    type: Progressing\n  - lastTransitionTime: \"2025-12-24T10:13:41Z\"\n    lastUpdateTime: \"2025-12-24T10:13:41Z\"\n    message: Deployment does not have minimum availability.\n    reason: MinimumReplicasUnavailable\n    status: \"False\"\n    type: Available\n  observedGeneration: 1\n  replicas: 1\n  unavailableReplicas: 1\n  updatedReplicas: 1\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get deployment geo -n test-hotel-reservation -o json\")",
      "command": "exec_shell(\"kubectl get deployment geo -n test-hotel-reservation-44c1044a -o json\")",
      "result": "{\n    \"apiVersion\": \"apps/v1\",\n    \"kind\": \"Deployment\",\n    \"metadata\": {\n        \"annotations\": {\n            \"deployment.kubernetes.io/revision\": \"1\",\n            \"kompose.cmd\": \"kompose convert\",\n            \"kompose.version\": \"1.22.0 (955b78124)\",\n            \"kubectl.kubernetes.io/last-applied-configuration\": \"{\\\"apiVersion\\\":\\\"apps/v1\\\",\\\"kind\\\":\\\"Deployment\\\",\\\"metadata\\\":{\\\"annotations\\\":{\\\"kompose.cmd\\\":\\\"kompose convert\\\",\\\"kompose.version\\\":\\\"1.22.0 (955b78124)\\\"},\\\"creationTimestamp\\\":null,\\\"labels\\\":{\\\"io.kompose.service\\\":\\\"geo\\\"},\\\"name\\\":\\\"geo\\\",\\\"namespace\\\":\\\"test-hotel-reservation-44c1044a\\\"},\\\"spec\\\":{\\\"replicas\\\":1,\\\"selector\\\":{\\\"matchLabels\\\":{\\\"io.kompose.service\\\":\\\"geo\\\"}},\\\"strategy\\\":{},\\\"template\\\":{\\\"metadata\\\":{\\\"annotations\\\":{\\\"kompose.cmd\\\":\\\"kompose convert\\\",\\\"kompose.version\\\":\\\"1.22.0 (955b78124)\\\",\\\"sidecar.istio.io/statsInclusionPrefixes\\\":\\\"cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\\\",\\\"sidecar.istio.io/statsInclusionRegexps\\\":\\\"http.*\\\"},\\\"creationTimestamp\\\":null,\\\"labels\\\":{\\\"io.kompose.service\\\":\\\"geo\\\"}},\\\"spec\\\":{\\\"containers\\\":[{\\\"command\\\":[\\\"geo\\\"],\\\"env\\\":[{\\\"name\\\":\\\"JAEGER_SAMPLE_RATIO\\\",\\\"value\\\":\\\"1\\\"}],\\\"image\\\":\\\"yinfangchen/hotelreservation:latest\\\",\\\"imagePullPolicy\\\":\\\"IfNotPresent\\\",\\\"name\\\":\\\"hotel-reserv-geo\\\",\\\"ports\\\":[{\\\"containerPort\\\":8083}],\\\"resources\\\":{\\\"limits\\\":{\\\"cpu\\\":\\\"1000m\\\"},\\\"requests\\\":{\\\"cpu\\\":\\\"100m\\\"}}}],\\\"restartPolicy\\\":\\\"Always\\\"}}},\\\"status\\\":{}}\\n\"\n        },\n        \"creationTimestamp\": \"2025-12-24T10:13:13Z\",\n        \"generation\": 1,\n        \"labels\": {\n            \"io.kompose.service\": \"geo\"\n        },\n        \"name\": \"geo\",\n        \"namespace\": \"test-hotel-reservation-44c1044a\",\n        \"resourceVersion\": \"70310\",\n        \"uid\": \"8c38f303-6293-466c-8398-c4cf82c5ea1e\"\n    },\n    \"spec\": {\n        \"progressDeadlineSeconds\": 600,\n        \"replicas\": 1,\n        \"revisionHistoryLimit\": 10,\n        \"selector\": {\n            \"matchLabels\": {\n                \"io.kompose.service\": \"geo\"\n            }\n        },\n        \"strategy\": {\n            \"rollingUpdate\": {\n                \"maxSurge\": \"25%\",\n                \"maxUnavailable\": \"25%\"\n            },\n            \"type\": \"RollingUpdate\"\n        },\n        \"template\": {\n            \"metadata\": {\n                \"annotations\": {\n                    \"kompose.cmd\": \"kompose convert\",\n                    \"kompose.version\": \"1.22.0 (955b78124)\",\n                    \"sidecar.istio.io/statsInclusionPrefixes\": \"cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\",\n                    \"sidecar.istio.io/statsInclusionRegexps\": \"http.*\"\n                },\n                \"creationTimestamp\": null,\n                \"labels\": {\n                    \"io.kompose.service\": \"geo\"\n                }\n            },\n            \"spec\": {\n                \"containers\": [\n                    {\n                        \"command\": [\n                            \"geo\"\n                        ],\n                        \"env\": [\n                            {\n                                \"name\": \"JAEGER_SAMPLE_RATIO\",\n                                \"value\": \"1\"\n                            }\n                        ],\n                        \"image\": \"yinfangchen/hotelreservation:latest\",\n                        \"imagePullPolicy\": \"IfNotPresent\",\n                        \"name\": \"hotel-reserv-geo\",\n                        \"ports\": [\n                            {\n                                \"containerPort\": 8083,\n                                \"protocol\": \"TCP\"\n                            }\n                        ],\n                        \"resources\": {\n                            \"limits\": {\n                                \"cpu\": \"1\"\n                            },\n                            \"requests\": {\n                                \"cpu\": \"100m\"\n                            }\n                        },\n                        \"terminationMessagePath\": \"/dev/termination-log\",\n                        \"terminationMessagePolicy\": \"File\"\n                    }\n                ],\n                \"dnsPolicy\": \"ClusterFirst\",\n                \"restartPolicy\": \"Always\",\n                \"schedulerName\": \"default-scheduler\",\n                \"securityContext\": {},\n                \"terminationGracePeriodSeconds\": 30\n            }\n        }\n    },\n    \"status\": {\n        \"conditions\": [\n            {\n                \"lastTransitionTime\": \"2025-12-24T10:13:13Z\",\n                \"lastUpdateTime\": \"2025-12-24T10:13:19Z\",\n                \"message\": \"ReplicaSet \\\"geo-84fbc958c7\\\" has successfully progressed.\",\n                \"reason\": \"NewReplicaSetAvailable\",\n                \"status\": \"True\",\n                \"type\": \"Progressing\"\n            },\n            {\n                \"lastTransitionTime\": \"2025-12-24T10:13:41Z\",\n                \"lastUpdateTime\": \"2025-12-24T10:13:41Z\",\n                \"message\": \"Deployment does not have minimum availability.\",\n                \"reason\": \"MinimumReplicasUnavailable\",\n                \"status\": \"False\",\n                \"type\": \"Available\"\n            }\n        ],\n        \"observedGeneration\": 1,\n        \"replicas\": 1,\n        \"unavailableReplicas\": 1,\n        \"updatedReplicas\": 1\n    }\n}\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe deployment geo -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe deployment geo -n test-hotel-reservation-44c1044a\")",
      "result": "Name:                   geo\nNamespace:              test-hotel-reservation-44c1044a\nCreationTimestamp:      Wed, 24 Dec 2025 18:13:13 +0800\nLabels:                 io.kompose.service=geo\nAnnotations:            deployment.kubernetes.io/revision: 1\n                        kompose.cmd: kompose convert\n                        kompose.version: 1.22.0 (955b78124)\nSelector:               io.kompose.service=geo\nReplicas:               1 desired | 1 updated | 1 total | 0 available | 1 unavailable\nStrategyType:           RollingUpdate\nMinReadySeconds:        0\nRollingUpdateStrategy:  25% max unavailable, 25% max surge\nPod Template:\n  Labels:       io.kompose.service=geo\n  Annotations:  kompose.cmd: kompose convert\n                kompose.version: 1.22.0 (955b78124)\n                sidecar.istio.io/statsInclusionPrefixes:\n                  cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\n                sidecar.istio.io/statsInclusionRegexps: http.*\n  Containers:\n   hotel-reserv-geo:\n    Image:      yinfangchen/hotelreservation:latest\n    Port:       8083/TCP\n    Host Port:  0/TCP\n    Command:\n      geo\n    Limits:\n      cpu:  1\n    Requests:\n      cpu:  100m\n    Environment:\n      JAEGER_SAMPLE_RATIO:  1\n    Mounts:                 <none>\n  Volumes:                  <none>\n  Node-Selectors:           <none>\n  Tolerations:              <none>\nConditions:\n  Type           Status  Reason\n  ----           ------  ------\n  Progressing    True    NewReplicaSetAvailable\n  Available      False   MinimumReplicasUnavailable\nOldReplicaSets:  <none>\nNewReplicaSet:   geo-84fbc958c7 (1/1 replicas created)\nEvents:\n  Type    Reason             Age   From                   Message\n  ----    ------             ----  ----                   -------\n  Normal  ScalingReplicaSet  44s   deployment-controller  Scaled up replica set geo-84fbc958c7 from 0 to 1\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get replicaset -n test-hotel-reservation -l io.kompose.service=geo\")",
      "command": "exec_shell(\"kubectl get replicaset -n test-hotel-reservation-44c1044a -l io.kompose.service=geo\")",
      "result": "NAME             DESIRED   CURRENT   READY   AGE\ngeo-84fbc958c7   1         1         0       45s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe pod mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe pod mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation-44c1044a\")",
      "result": "Error from server (NotFound): pods \"mongodb-geo-5ff578bcb8-vpmcs\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe pod mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation | tail -30\")",
      "command": "exec_shell(\"kubectl describe pod mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation-44c1044a | tail -30\")",
      "result": "Error from server (NotFound): pods \"mongodb-geo-5ff578bcb8-vpmcs\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get deployment mongodb-geo -n test-hotel-reservation -o yaml\")",
      "command": "exec_shell(\"kubectl get deployment mongodb-geo -n test-hotel-reservation-44c1044a -o yaml\")",
      "result": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  annotations:\n    deployment.kubernetes.io/revision: \"1\"\n    kompose.cmd: kompose convert\n    kompose.version: 1.22.0 (955b78124)\n    kubectl.kubernetes.io/last-applied-configuration: |\n      {\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"kompose.cmd\":\"kompose convert\",\"kompose.version\":\"1.22.0 (955b78124)\"},\"creationTimestamp\":null,\"labels\":{\"io.kompose.service\":\"mongodb-geo\"},\"name\":\"mongodb-geo\",\"namespace\":\"test-hotel-reservation-44c1044a\"},\"spec\":{\"replicas\":1,\"selector\":{\"matchLabels\":{\"io.kompose.service\":\"mongodb-geo\"}},\"strategy\":{\"type\":\"Recreate\"},\"template\":{\"metadata\":{\"annotations\":{\"kompose.cmd\":\"kompose convert\",\"kompose.version\":\"1.22.0 (955b78124)\",\"sidecar.istio.io/statsInclusionPrefixes\":\"cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\",\"sidecar.istio.io/statsInclusionRegexps\":\"http.*\"},\"creationTimestamp\":null,\"labels\":{\"io.kompose.service\":\"mongodb-geo\"}},\"spec\":{\"containers\":[{\"args\":[\"--auth\"],\"image\":\"mongo:4.4.6\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"hotel-reserv-geo-mongo\",\"ports\":[{\"containerPort\":27017}],\"resources\":{\"limits\":{\"cpu\":\"1000m\"},\"requests\":{\"cpu\":\"100m\"}},\"volumeMounts\":[{\"mountPath\":\"/data/db\",\"name\":\"geo\"},{\"mountPath\":\"/docker-entrypoint-initdb.d\",\"name\":\"init-script\"},{\"mountPath\":\"/scripts\",\"name\":\"failure-script\"}]}],\"restartPolicy\":\"Always\",\"volumes\":[{\"name\":\"geo\",\"persistentVolumeClaim\":{\"claimName\":\"geo-pvc\"}},{\"configMap\":{\"name\":\"mongo-geo-script\"},\"name\":\"init-script\"},{\"configMap\":{\"name\":\"failure-admin-geo\"},\"name\":\"failure-script\"}]}}},\"status\":{}}\n  creationTimestamp: \"2025-12-24T10:13:13Z\"\n  generation: 1\n  labels:\n    io.kompose.service: mongodb-geo\n  name: mongodb-geo\n  namespace: test-hotel-reservation-44c1044a\n  resourceVersion: \"70275\"\n  uid: 5f2e1896-fd4c-4926-988a-0ab2acb6f1d6\nspec:\n  progressDeadlineSeconds: 600\n  replicas: 1\n  revisionHistoryLimit: 10\n  selector:\n    matchLabels:\n      io.kompose.service: mongodb-geo\n  strategy:\n    type: Recreate\n  template:\n    metadata:\n      annotations:\n        kompose.cmd: kompose convert\n        kompose.version: 1.22.0 (955b78124)\n        sidecar.istio.io/statsInclusionPrefixes: cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\n        sidecar.istio.io/statsInclusionRegexps: http.*\n      creationTimestamp: null\n      labels:\n        io.kompose.service: mongodb-geo\n    spec:\n      containers:\n      - args:\n        - --auth\n        image: mongo:4.4.6\n        imagePullPolicy: IfNotPresent\n        name: hotel-reserv-geo-mongo\n        ports:\n        - containerPort: 27017\n          protocol: TCP\n        resources:\n          limits:\n            cpu: \"1\"\n          requests:\n            cpu: 100m\n        terminationMessagePath: /dev/termination-log\n        terminationMessagePolicy: File\n        volumeMounts:\n        - mountPath: /data/db\n          name: geo\n        - mountPath: /docker-entrypoint-initdb.d\n          name: init-script\n        - mountPath: /scripts\n          name: failure-script\n      dnsPolicy: ClusterFirst\n      restartPolicy: Always\n      schedulerName: default-scheduler\n      securityContext: {}\n      terminationGracePeriodSeconds: 30\n      volumes:\n      - name: geo\n        persistentVolumeClaim:\n          claimName: geo-pvc\n      - configMap:\n          defaultMode: 420\n          name: mongo-geo-script\n        name: init-script\n      - configMap:\n          defaultMode: 420\n          name: failure-admin-geo\n        name: failure-script\nstatus:\n  availableReplicas: 1\n  conditions:\n  - lastTransitionTime: \"2025-12-24T10:13:13Z\"\n    lastUpdateTime: \"2025-12-24T10:13:24Z\"\n    message: ReplicaSet \"mongodb-geo-5ff578bcb8\" has successfully progressed.\n    reason: NewReplicaSetAvailable\n    status: \"True\"\n    type: Progressing\n  - lastTransitionTime: \"2025-12-24T10:13:36Z\"\n    lastUpdateTime: \"2025-12-24T10:13:36Z\"\n    message: Deployment has minimum availability.\n    reason: MinimumReplicasAvailable\n    status: \"True\"\n    type: Available\n  observedGeneration: 1\n  readyReplicas: 1\n  replicas: 1\n  updatedReplicas: 1\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation --tail=50\")",
      "command": "exec_shell(\"kubectl logs mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation-44c1044a --tail=50\")",
      "result": "error: error from server (NotFound): pods \"mongodb-geo-5ff578bcb8-vpmcs\" not found in namespace \"test-hotel-reservation-44c1044a\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation | grep -i error\")",
      "command": "exec_shell(\"kubectl logs mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation-44c1044a | grep -i error\")",
      "result": "error: error from server (NotFound): pods \"mongodb-geo-5ff578bcb8-vpmcs\" not found in namespace \"test-hotel-reservation-44c1044a\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get configmap -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get configmap -n test-hotel-reservation-44c1044a\")",
      "result": "NAME                           DATA   AGE\nfailure-admin-geo              4      51s\nfailure-admin-rate             4      51s\nkube-root-ca.crt               1      51s\nmongo-geo-script               1      51s\nmongo-rate-script              1      51s\nwrk2-payload-script-44c1044a   1      21s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get configmap failure-admin-geo -n test-hotel-reservation -o yaml\")",
      "command": "exec_shell(\"kubectl get configmap failure-admin-geo -n test-hotel-reservation-44c1044a -o yaml\")",
      "result": "apiVersion: v1\ndata:\n  remove-admin-mongo.sh: \"#!/bin/bash\\n# Copyright (c) Microsoft Corporation.\\n# Licensed\n    under the MIT License.\\n\\n\\nROOT_USER=\\\"root\\\"\\nROOT_PWD=\\\"root\\\" \\n\\necho \\\"Removing\n    admin user...\\\"\\n\\nmongo admin -u $ROOT_USER -p $ROOT_PWD --authenticationDatabase\n    admin \\\\\\n     --eval \\\"db.dropUser('admin');\\\"\\n\\necho \\\"Admin user removed successfully\\\"\\n\"\n  remove-mitigate-admin-geo-mongo.sh: \"#!/bin/bash\\n# Copyright (c) Microsoft Corporation.\\n#\n    Licensed under the MIT License.\\n\\n\\nROOT_USER=\\\"root\\\"\\nROOT_PWD=\\\"root\\\"  \\n\\nADMIN_USER=\\\"admin\\\"\\nADMIN_PWD=\\\"admin\\\"\n    \\ \\nREAD_WRITE_ROLE=\\\"readWrite\\\"\\nTARGET_DB=\\\"geo-db\\\"\\n\\necho \\\"Recreating admin\n    user...\\\"\\n\\n# Connect to MongoDB and create the admin user\\nmongo admin -u $ROOT_USER\n    -p $ROOT_PWD --authenticationDatabase admin \\\\\\n     --eval \\\"db.createUser({user:\n    '$ADMIN_USER', pwd: '$ADMIN_PWD', roles:[{role:'userAdminAnyDatabase',db:'admin'}]});\\\"\\n\\necho\n    \\\"Admin user recreated\\\"\\n\\n# Grant readWrite role on the target database\\necho\n    \\\"Granting readWrite role to $ADMIN_USER on $TARGET_DB database...\\\"\\nmongo admin\n    -u $ROOT_USER -p $ROOT_PWD --authenticationDatabase admin \\\\\\n     --eval \\\"db.grantRolesToUser('$ADMIN_USER',\n    [{role: '$READ_WRITE_ROLE', db: '$TARGET_DB'}]);\\\"\\n\\necho \\\"Privileges restored\n    successfully\\\"\\n\"\n  revoke-admin-geo-mongo.sh: |\n    #!/bin/bash\n    # Copyright (c) Microsoft Corporation.\n    # Licensed under the MIT License.\n\n\n    ADMIN_USER=\"admin\"\n    ADMIN_PWD=\"admin\"\n    # TARGET_DB=\"rate-db\"\n    TARGET_DB=\"geo-db\"\n\n    echo \"Downgrading admin user privileges...\"\n\n    # Connect to MongoDB and revoke roles\n    mongo admin -u $ADMIN_USER -p $ADMIN_PWD --authenticationDatabase admin \\\n         --eval \"db.revokeRolesFromUser('$ADMIN_USER', [{role: 'readWrite', db: '$TARGET_DB'}]);\"\n\n    echo \"Privileges downgraded\"\n  revoke-mitigate-admin-geo-mongo.sh: |-\n    #!/bin/bash\n    # Copyright (c) Microsoft Corporation.\n    # Licensed under the MIT License.\n\n\n    ADMIN_USER=\"admin\"\n    ADMIN_PWD=\"admin\"\n\n    # TARGET_DB=\"rate-db\"\n    TARGET_DB=\"geo-db\"\n    READ_WRITE_ROLE=\"readWrite\"\n\n    echo \"Restoring readWrite privilege to the $ADMIN_USER user for the $TARGET_DB database...\"\n\n    # Grant readWrite role on the target database\n    mongo admin -u $ADMIN_USER -p $ADMIN_PWD --authenticationDatabase admin \\\n         --eval \"db.grantRolesToUser('$ADMIN_USER', [{role: '$READ_WRITE_ROLE', db: '$TARGET_DB'}]);\"\n\n    echo \"Privilege restored successfully\"\nkind: ConfigMap\nmetadata:\n  creationTimestamp: \"2025-12-24T10:13:11Z\"\n  name: failure-admin-geo\n  namespace: test-hotel-reservation-44c1044a\n  resourceVersion: \"69482\"\n  uid: 6fe508b0-7539-41d6-b394-643d0bbb66db\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe configmap failure-admin-geo -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe configmap failure-admin-geo -n test-hotel-reservation-44c1044a\")",
      "result": "Name:         failure-admin-geo\nNamespace:    test-hotel-reservation-44c1044a\nLabels:       <none>\nAnnotations:  <none>\n\nData\n====\nremove-admin-mongo.sh:\n----\n#!/bin/bash\n# Copyright (c) Microsoft Corporation.\n# Licensed under the MIT License.\n\n\nROOT_USER=\"root\"\nROOT_PWD=\"root\" \n\necho \"Removing admin user...\"\n\nmongo admin -u $ROOT_USER -p $ROOT_PWD --authenticationDatabase admin \\\n     --eval \"db.dropUser('admin');\"\n\necho \"Admin user removed successfully\"\n\n\nremove-mitigate-admin-geo-mongo.sh:\n----\n#!/bin/bash\n# Copyright (c) Microsoft Corporation.\n# Licensed under the MIT License.\n\n\nROOT_USER=\"root\"\nROOT_PWD=\"root\"  \n\nADMIN_USER=\"admin\"\nADMIN_PWD=\"admin\"  \nREAD_WRITE_ROLE=\"readWrite\"\nTARGET_DB=\"geo-db\"\n\necho \"Recreating admin user...\"\n\n# Connect to MongoDB and create the admin user\nmongo admin -u $ROOT_USER -p $ROOT_PWD --authenticationDatabase admin \\\n     --eval \"db.createUser({user: '$ADMIN_USER', pwd: '$ADMIN_PWD', roles:[{role:'userAdminAnyDatabase',db:'admin'}]});\"\n\necho \"Admin user recreated\"\n\n# Grant readWrite role on the target database\necho \"Granting readWrite role to $ADMIN_USER on $TARGET_DB database...\"\nmongo admin -u $ROOT_USER -p $ROOT_PWD --authenticationDatabase admin \\\n     --eval \"db.grantRolesToUser('$ADMIN_USER', [{role: '$READ_WRITE_ROLE', db: '$TARGET_DB'}]);\"\n\necho \"Privileges restored successfully\"\n\n\nrevoke-admin-geo-mongo.sh:\n----\n#!/bin/bash\n# Copyright (c) Microsoft Corporation.\n# Licensed under the MIT License.\n\n\nADMIN_USER=\"admin\"\nADMIN_PWD=\"admin\"\n# TARGET_DB=\"rate-db\"\nTARGET_DB=\"geo-db\"\n\necho \"Downgrading admin user privileges...\"\n\n# Connect to MongoDB and revoke roles\nmongo admin -u $ADMIN_USER -p $ADMIN_PWD --authenticationDatabase admin \\\n     --eval \"db.revokeRolesFromUser('$ADMIN_USER', [{role: 'readWrite', db: '$TARGET_DB'}]);\"\n\necho \"Privileges downgraded\"\n\n\nrevoke-mitigate-admin-geo-mongo.sh:\n----\n#!/bin/bash\n# Copyright (c) Microsoft Corporation.\n# Licensed under the MIT License.\n\n\nADMIN_USER=\"admin\"\nADMIN_PWD=\"admin\"\n\n# TARGET_DB=\"rate-db\"\nTARGET_DB=\"geo-db\"\nREAD_WRITE_ROLE=\"readWrite\"\n\necho \"Restoring readWrite privilege to the $ADMIN_USER user for the $TARGET_DB database...\"\n\n# Grant readWrite role on the target database\nmongo admin -u $ADMIN_USER -p $ADMIN_PWD --authenticationDatabase admin \\\n     --eval \"db.grantRolesToUser('$ADMIN_USER', [{role: '$READ_WRITE_ROLE', db: '$TARGET_DB'}]);\"\n\necho \"Privilege restored successfully\"\n\n\nBinaryData\n====\n\nEvents:  <none>\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get secret -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get secret -n test-hotel-reservation-44c1044a\")",
      "result": "No resources found in test-hotel-reservation-44c1044a namespace.\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get service -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get service -n test-hotel-reservation-44c1044a\")",
      "result": "NAME                     TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                                                                       AGE\nconsul                   ClusterIP   10.96.238.156   <none>        8300/TCP,8400/TCP,8500/TCP,8600/UDP                                           52s\nfrontend                 ClusterIP   10.96.254.153   <none>        5000/TCP                                                                      52s\ngeo                      ClusterIP   10.96.109.85    <none>        8083/TCP                                                                      52s\njaeger                   ClusterIP   10.96.198.102   <none>        14269/TCP,5778/TCP,14268/TCP,14267/TCP,16686/TCP,5775/UDP,6831/UDP,6832/UDP   51s\njaeger-out               NodePort    10.96.180.92    <none>        16686:30461/TCP                                                               52s\nmemcached-profile        ClusterIP   10.96.52.203    <none>        11211/TCP                                                                     51s\nmemcached-rate           ClusterIP   10.96.240.143   <none>        11211/TCP                                                                     51s\nmemcached-reserve        ClusterIP   10.96.183.85    <none>        11211/TCP                                                                     51s\nmongodb-geo              ClusterIP   10.96.134.190   <none>        27017/TCP                                                                     52s\nmongodb-profile          ClusterIP   10.96.198.31    <none>        27017/TCP                                                                     51s\nmongodb-rate             ClusterIP   10.96.59.172    <none>        27017/TCP                                                                     51s\nmongodb-recommendation   ClusterIP   10.96.251.127   <none>        27017/TCP                                                                     51s\nmongodb-reservation      ClusterIP   10.96.106.97    <none>        27017/TCP                                                                     51s\nmongodb-user             ClusterIP   10.96.184.196   <none>        27017/TCP                                                                     51s\nprofile                  ClusterIP   10.96.175.223   <none>        8081/TCP                                                                      51s\nrate                     ClusterIP   10.96.35.247    <none>        8084/TCP                                                                      51s\nrecommendation           ClusterIP   10.96.145.152   <none>        8085/TCP                                                                      51s\nreservation              ClusterIP   10.96.170.74    <none>        8087/TCP                                                                      51s\nsearch                   ClusterIP   10.96.100.101   <none>        8082/TCP                                                                      51s\nuser                     ClusterIP   10.96.38.133    <none>        8086/TCP                                                                      51s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get service mongodb-geo -n test-hotel-reservation -o yaml\")",
      "command": "exec_shell(\"kubectl get service mongodb-geo -n test-hotel-reservation-44c1044a -o yaml\")",
      "result": "apiVersion: v1\nkind: Service\nmetadata:\n  annotations:\n    kompose.cmd: kompose convert\n    kompose.version: 1.22.0 (955b78124)\n    kubectl.kubernetes.io/last-applied-configuration: |\n      {\"apiVersion\":\"v1\",\"kind\":\"Service\",\"metadata\":{\"annotations\":{\"kompose.cmd\":\"kompose convert\",\"kompose.version\":\"1.22.0 (955b78124)\"},\"creationTimestamp\":null,\"labels\":{\"io.kompose.service\":\"mongodb-geo\"},\"name\":\"mongodb-geo\",\"namespace\":\"test-hotel-reservation-44c1044a\"},\"spec\":{\"ports\":[{\"name\":\"mongodb-geo\",\"port\":27017,\"targetPort\":27017}],\"selector\":{\"io.kompose.service\":\"mongodb-geo\"}},\"status\":{\"loadBalancer\":{}}}\n  creationTimestamp: \"2025-12-24T10:13:13Z\"\n  labels:\n    io.kompose.service: mongodb-geo\n  name: mongodb-geo\n  namespace: test-hotel-reservation-44c1044a\n  resourceVersion: \"69573\"\n  uid: 47374cca-742d-4522-a929-625e60b79645\nspec:\n  clusterIP: 10.96.134.190\n  clusterIPs:\n  - 10.96.134.190\n  internalTrafficPolicy: Cluster\n  ipFamilies:\n  - IPv4\n  ipFamilyPolicy: SingleStack\n  ports:\n  - name: mongodb-geo\n    port: 27017\n    protocol: TCP\n    targetPort: 27017\n  selector:\n    io.kompose.service: mongodb-geo\n  sessionAffinity: None\n  type: ClusterIP\nstatus:\n  loadBalancer: {}\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get endpoints mongodb-geo -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get endpoints mongodb-geo -n test-hotel-reservation-44c1044a\")",
      "result": "NAME          ENDPOINTS            AGE\nmongodb-geo   10.244.1.134:27017   54s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl exec mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation -- mongo admin -u root -p root --authenticationDatabase admin --eval 'db.getUsers()'\")",
      "command": "exec_shell(\"kubectl exec mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation-44c1044a -- mongo admin -u root -p root --authenticationDatabase admin --eval 'db.getUsers()'\")",
      "result": "Error from server (NotFound): pods \"mongodb-geo-5ff578bcb8-vpmcs\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl exec mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation -- mongo admin -u root -p root --authenticationDatabase admin --eval 'db.system.users.find().pretty()'\")",
      "command": "exec_shell(\"kubectl exec mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation-44c1044a -- mongo admin -u root -p root --authenticationDatabase admin --eval 'db.system.users.find().pretty()'\")",
      "result": "Error from server (NotFound): pods \"mongodb-geo-5ff578bcb8-vpmcs\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl exec mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation -- mongo geo-db -u root -p root --authenticationDatabase admin --eval 'db.stats()'\")",
      "command": "exec_shell(\"kubectl exec mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation-44c1044a -- mongo geo-db -u root -p root --authenticationDatabase admin --eval 'db.stats()'\")",
      "result": "Error from server (NotFound): pods \"mongodb-geo-5ff578bcb8-vpmcs\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl exec mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation -- mongo geo-db -u root -p root --authenticationDatabase admin --eval 'db.getCollectionNames()'\")",
      "command": "exec_shell(\"kubectl exec mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation-44c1044a -- mongo geo-db -u root -p root --authenticationDatabase admin --eval 'db.getCollectionNames()'\")",
      "result": "Error from server (NotFound): pods \"mongodb-geo-5ff578bcb8-vpmcs\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl exec mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation -- mongo geo-db --eval 'db.hotels.count()' --quiet\")",
      "command": "exec_shell(\"kubectl exec mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation-44c1044a -- mongo geo-db --eval 'db.hotels.count()' --quiet\")",
      "result": "Error from server (NotFound): pods \"mongodb-geo-5ff578bcb8-vpmcs\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation -o jsonpath='{range .items[*]}{.metadata.name}{\\\"\\\\t\\\"}{.status.phase}{\\\"\\\\t\\\"}{.status.containerStatuses[0].restartCount}{\\\"\\\\n\\\"}{end}'\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-44c1044a -o jsonpath='{range .items[*]}{.metadata.name}{\\\"\\\\t\\\"}{.status.phase}{\\\"\\\\t\\\"}{.status.containerStatuses[0].restartCount}{\\\"\\\\n\\\"}{end}'\")",
      "result": "consul-78c8d79bb-c6dpz\\tRunning\\t0\\nfrontend-7fc7ddc9db-fffsz\\tRunning\\t0\\ngeo-84fbc958c7-c26cc\\tRunning\\t2\\njaeger-67445b6dd6-gvrkt\\tRunning\\t0\\nmemcached-profile-668dcd6dbb-sk28x\\tRunning\\t0\\nmemcached-rate-5b666ddfcb-5q5m4\\tRunning\\t0\\nmemcached-reserve-5bf87f5d54-rs4zn\\tRunning\\t0\\nmongodb-geo-5ff578bcb8-q4tsg\\tRunning\\t0\\nmongodb-profile-758cb77f9f-qzbv8\\tRunning\\t0\\nmongodb-rate-56cc8659c9-cz7nf\\tRunning\\t0\\nmongodb-recommendation-55699465f7-qhx8d\\tRunning\\t0\\nmongodb-reservation-5994859869-ppbpw\\tRunning\\t0\\nmongodb-user-969c6c449-dthvq\\tRunning\\t0\\nprofile-8b6dd7c6c-45dr6\\tRunning\\t0\\nrate-7bdc978679-n7k74\\tRunning\\t0\\nrecommendation-6879fb56bf-98vl9\\tRunning\\t0\\nreservation-78c9f7976b-rljjf\\tRunning\\t1\\nsearch-5c64c8f5bc-8q5m4\\tRunning\\t0\\nuser-66d5d6f874-qk6kk\\tRunning\\t1\\nwrk2-job-44c1044a-g5n25\\tFailed\\t0\\nwrk2-job-44c1044a-gk7jx\\tSucceeded\\t0\\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl top pods -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl top pods -n test-hotel-reservation-44c1044a\")",
      "result": "error: Metrics API not available\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl top nodes\")",
      "command": "exec_shell(\"kubectl top nodes\")",
      "result": "error: Metrics API not available\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe node kind-worker\")",
      "command": "exec_shell(\"kubectl describe node kind-worker\")",
      "result": "Name:               kind-worker\nRoles:              <none>\nLabels:             beta.kubernetes.io/arch=amd64\n                    beta.kubernetes.io/os=linux\n                    kubernetes.io/arch=amd64\n                    kubernetes.io/hostname=kind-worker\n                    kubernetes.io/os=linux\nAnnotations:        kubeadm.alpha.kubernetes.io/cri-socket: unix:///run/containerd/containerd.sock\n                    node.alpha.kubernetes.io/ttl: 0\n                    volumes.kubernetes.io/controller-managed-attach-detach: true\nCreationTimestamp:  Wed, 24 Dec 2025 16:20:25 +0800\nTaints:             <none>\nUnschedulable:      false\nLease:\n  HolderIdentity:  kind-worker\n  AcquireTime:     <unset>\n  RenewTime:       Wed, 24 Dec 2025 18:14:05 +0800\nConditions:\n  Type             Status  LastHeartbeatTime                 LastTransitionTime                Reason                       Message\n  ----             ------  -----------------                 ------------------                ------                       -------\n  MemoryPressure   False   Wed, 24 Dec 2025 18:12:50 +0800   Wed, 24 Dec 2025 16:20:25 +0800   KubeletHasSufficientMemory   kubelet has sufficient memory available\n  DiskPressure     False   Wed, 24 Dec 2025 18:12:50 +0800   Wed, 24 Dec 2025 16:20:25 +0800   KubeletHasNoDiskPressure     kubelet has no disk pressure\n  PIDPressure      False   Wed, 24 Dec 2025 18:12:50 +0800   Wed, 24 Dec 2025 16:20:25 +0800   KubeletHasSufficientPID      kubelet has sufficient PID available\n  Ready            True    Wed, 24 Dec 2025 18:12:50 +0800   Wed, 24 Dec 2025 16:20:38 +0800   KubeletReady                 kubelet is posting ready status\nAddresses:\n  InternalIP:  172.18.0.2\n  Hostname:    kind-worker\nCapacity:\n  cpu:                24\n  ephemeral-storage:  1055762868Ki\n  hugepages-1Gi:      0\n  hugepages-2Mi:      0\n  memory:             32532612Ki\n  pods:               110\nAllocatable:\n  cpu:                24\n  ephemeral-storage:  1055762868Ki\n  hugepages-1Gi:      0\n  hugepages-2Mi:      0\n  memory:             32532612Ki\n  pods:               110\nSystem Info:\n  Machine ID:                      a95f78babe7245b6b45c87986e0fb87f\n  System UUID:                     a95f78babe7245b6b45c87986e0fb87f\n  Boot ID:                         d1393028-3d99-4e5e-bc49-1199a48d63a4\n  Kernel Version:                  6.6.87.2-microsoft-standard-WSL2\n  OS Image:                        Debian GNU/Linux 12 (bookworm)\n  Operating System:                linux\n  Architecture:                    amd64\n  Container Runtime Version:       containerd://1.7.24\n  Kubelet Version:                 v1.32.0\n  Kube-Proxy Version:              v1.32.0\nPodCIDR:                           10.244.1.0/24\nPodCIDRs:                          10.244.1.0/24\nProviderID:                        kind://docker/kind/kind-worker\nNon-terminated Pods:               (37 in total)\n  Namespace                        Name                                                        CPU Requests  CPU Limits  Memory Requests  Memory Limits  Age\n  ---------                        ----                                                        ------------  ----------  ---------------  -------------  ---\n  chaos-mesh                       chaos-controller-manager-867799c5c-6qsmr                    25m (0%)      0 (0%)      256Mi (0%)       0 (0%)         38m\n  chaos-mesh                       chaos-controller-manager-867799c5c-89nln                    25m (0%)      0 (0%)      256Mi (0%)       0 (0%)         38m\n  chaos-mesh                       chaos-controller-manager-867799c5c-sgf4r                    25m (0%)      0 (0%)      256Mi (0%)       0 (0%)         38m\n  chaos-mesh                       chaos-daemon-268vv                                          0 (0%)        0 (0%)      0 (0%)           0 (0%)         38m\n  chaos-mesh                       chaos-dashboard-6d89d47b7f-kxjhk                            25m (0%)      0 (0%)      256Mi (0%)       0 (0%)         38m\n  chaos-mesh                       chaos-dns-server-c5b549bdf-782g4                            100m (0%)     0 (0%)      70Mi (0%)        0 (0%)         38m\n  kube-system                      kindnet-4htl2                                               100m (0%)     100m (0%)   50Mi (0%)        50Mi (0%)      113m\n  kube-system                      kube-proxy-vwnmz                                            0 (0%)        0 (0%)      0 (0%)           0 (0%)         113m\n  observe                          prometheus-kube-state-metrics-779b776cfb-2875l              0 (0%)        0 (0%)      0 (0%)           0 (0%)         110m\n  observe                          prometheus-prometheus-blackbox-exporter-7c6b445bb8-wvvh7    0 (0%)        0 (0%)      0 (0%)           0 (0%)         110m\n  observe                          prometheus-prometheus-node-exporter-rssv5                   0 (0%)        0 (0%)      0 (0%)           0 (0%)         110m\n  observe                          prometheus-prometheus-pushgateway-5464f67477-hmt99          0 (0%)        0 (0%)      0 (0%)           0 (0%)         110m\n  observe                          prometheus-server-56896fcb78-xb87d                          0 (0%)        0 (0%)      0 (0%)           0 (0%)         110m\n  openebs                          openebs-localpv-provisioner-65dd55b8dc-9kgf4                0 (0%)        0 (0%)      0 (0%)           0 (0%)         110m\n  openebs                          openebs-ndm-cluster-exporter-848db89c6-6mx5b                0 (0%)        0 (0%)      0 (0%)           0 (0%)         110m\n  openebs                          openebs-ndm-node-exporter-mv5js                             0 (0%)        0 (0%)      0 (0%)           0 (0%)         110m\n  openebs                          openebs-ndm-operator-5849bb84b8-m9ftp                       0 (0%)        0 (0%)      0 (0%)           0 (0%)         110m\n  openebs                          openebs-ndm-xkpcv                                           0 (0%)        0 (0%)      0 (0%)           0 (0%)         110m\n  test-hotel-reservation-44c1044a  consul-78c8d79bb-c6dpz                                      100m (0%)     1 (4%)      0 (0%)           0 (0%)         61s\n  test-hotel-reservation-44c1044a  frontend-7fc7ddc9db-fffsz                                   100m (0%)     1 (4%)      0 (0%)           0 (0%)         61s\n  test-hotel-reservation-44c1044a  geo-84fbc958c7-c26cc                                        100m (0%)     1 (4%)      0 (0%)           0 (0%)         41s\n  test-hotel-reservation-44c1044a  jaeger-67445b6dd6-gvrkt                                     100m (0%)     1 (4%)      0 (0%)           0 (0%)         61s\n  test-hotel-reservation-44c1044a  memcached-profile-668dcd6dbb-sk28x                          100m (0%)     1 (4%)      0 (0%)           0 (0%)         60s\n  test-hotel-reservation-44c1044a  memcached-rate-5b666ddfcb-5q5m4                             100m (0%)     1 (4%)      0 (0%)           0 (0%)         60s\n  test-hotel-reservation-44c1044a  memcached-reserve-5bf87f5d54-rs4zn                          100m (0%)     1 (4%)      0 (0%)           0 (0%)         59s\n  test-hotel-reservation-44c1044a  mongodb-geo-5ff578bcb8-q4tsg                                100m (0%)     1 (4%)      0 (0%)           0 (0%)         40s\n  test-hotel-reservation-44c1044a  mongodb-profile-758cb77f9f-qzbv8                            100m (0%)     1 (4%)      0 (0%)           0 (0%)         60s\n  test-hotel-reservation-44c1044a  mongodb-rate-56cc8659c9-cz7nf                               100m (0%)     1 (4%)      0 (0%)           0 (0%)         60s\n  test-hotel-reservation-44c1044a  mongodb-recommendation-55699465f7-qhx8d                     100m (0%)     1 (4%)      0 (0%)           0 (0%)         60s\n  test-hotel-reservation-44c1044a  mongodb-reservation-5994859869-ppbpw                        100m (0%)     1 (4%)      0 (0%)           0 (0%)         59s\n  test-hotel-reservation-44c1044a  mongodb-user-969c6c449-dthvq                                100m (0%)     1 (4%)      0 (0%)           0 (0%)         58s\n  test-hotel-reservation-44c1044a  profile-8b6dd7c6c-45dr6                                     100m (0%)     1 (4%)      0 (0%)           0 (0%)         60s\n  test-hotel-reservation-44c1044a  rate-7bdc978679-n7k74                                       100m (0%)     1 (4%)      0 (0%)           0 (0%)         60s\n  test-hotel-reservation-44c1044a  recommendation-6879fb56bf-98vl9                             100m (0%)     1 (4%)      0 (0%)           0 (0%)         59s\n  test-hotel-reservation-44c1044a  reservation-78c9f7976b-rljjf                                100m (0%)     1 (4%)      0 (0%)           0 (0%)         59s\n  test-hotel-reservation-44c1044a  search-5c64c8f5bc-8q5m4                                     100m (0%)     1 (4%)      0 (0%)           0 (0%)         58s\n  test-hotel-reservation-44c1044a  user-66d5d6f874-qk6kk                                       100m (0%)     1 (4%)      0 (0%)           0 (0%)         58s\nAllocated resources:\n  (Total limits may be over 100 percent, i.e., overcommitted.)\n  Resource           Requests     Limits\n  --------           --------     ------\n  cpu                2200m (9%)   19100m (79%)\n  memory             1144Mi (3%)  50Mi (0%)\n  ephemeral-storage  0 (0%)       0 (0%)\n  hugepages-1Gi      0 (0%)       0 (0%)\n  hugepages-2Mi      0 (0%)       0 (0%)\nEvents:              <none>\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation --field-selector status.phase!=Running\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-44c1044a --field-selector status.phase!=Running\")",
      "result": "NAME                      READY   STATUS      RESTARTS   AGE\nwrk2-job-44c1044a-g5n25   0/1     Error       0          34s\nwrk2-job-44c1044a-gk7jx   0/1     Completed   0          23s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get events -n test-hotel-reservation --field-selector type=Warning\")",
      "command": "exec_shell(\"kubectl get events -n test-hotel-reservation-44c1044a --field-selector type=Warning\")",
      "result": "LAST SEEN   TYPE      REASON    OBJECT                     MESSAGE\n7s          Warning   BackOff   pod/geo-84fbc958c7-c26cc   Back-off restarting failed container hotel-reserv-geo in pod geo-84fbc958c7-c26cc_test-hotel-reservation-44c1044a(fbea3577-2f78-4e42-882b-8a358499cce8)\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods geo-84fbc958c7-lpqmr -n test-hotel-reservation -o yaml\")",
      "command": "exec_shell(\"kubectl get pods geo-84fbc958c7-lpqmr -n test-hotel-reservation-44c1044a -o yaml\")",
      "result": "Error from server (NotFound): pods \"geo-84fbc958c7-lpqmr\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods geo-84fbc958c7-lpqmr -n test-hotel-reservation -o jsonpath='{.status.containerStatuses[0].state}'\")",
      "command": "exec_shell(\"kubectl get pods geo-84fbc958c7-lpqmr -n test-hotel-reservation-44c1044a -o jsonpath='{.status.containerStatuses[0].state}'\")",
      "result": "Error from server (NotFound): pods \"geo-84fbc958c7-lpqmr\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods geo-84fbc958c7-lpqmr -n test-hotel-reservation -o jsonpath='{.status.containerStatuses[0].lastState.terminated.reason}'\")",
      "command": "exec_shell(\"kubectl get pods geo-84fbc958c7-lpqmr -n test-hotel-reservation-44c1044a -o jsonpath='{.status.containerStatuses[0].lastState.terminated.reason}'\")",
      "result": "Error from server (NotFound): pods \"geo-84fbc958c7-lpqmr\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get deployments -n test-hotel-reservation -o json | grep -i available\")",
      "command": "exec_shell(\"kubectl get deployments -n test-hotel-reservation-44c1044a -o json | grep -i available\")",
      "result": "                        \"maxUnavailable\": \"25%\"\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                        \"maxUnavailable\": \"25%\"\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                        \"maxUnavailable\": \"25%\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                        \"reason\": \"MinimumReplicasUnavailable\",\n                        \"type\": \"Available\"\n                \"unavailableReplicas\": 1,\n                        \"maxUnavailable\": \"25%\"\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                        \"maxUnavailable\": \"25%\"\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                        \"maxUnavailable\": \"25%\"\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                        \"maxUnavailable\": \"25%\"\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                \"availableReplicas\": 1,\n                        \"reason\": \"NewReplicaSetAvailable\",\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                        \"maxUnavailable\": \"25%\"\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                        \"maxUnavailable\": \"25%\"\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                        \"maxUnavailable\": \"25%\"\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                        \"maxUnavailable\": \"25%\"\n                \"availableReplicas\": 1,\n                        \"reason\": \"NewReplicaSetAvailable\",\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"maxUnavailable\": \"25%\"\n                \"availableReplicas\": 1,\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n                        \"reason\": \"NewReplicaSetAvailable\",\n                        \"maxUnavailable\": \"25%\"\n                \"availableReplicas\": 1,\n                        \"reason\": \"NewReplicaSetAvailable\",\n                        \"reason\": \"MinimumReplicasAvailable\",\n                        \"type\": \"Available\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get replicaset -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get replicaset -n test-hotel-reservation-44c1044a\")",
      "result": "NAME                                DESIRED   CURRENT   READY   AGE\nconsul-78c8d79bb                    1         1         1       66s\nfrontend-7fc7ddc9db                 1         1         1       66s\ngeo-84fbc958c7                      1         1         0       66s\njaeger-67445b6dd6                   1         1         1       66s\nmemcached-profile-668dcd6dbb        1         1         1       65s\nmemcached-rate-5b666ddfcb           1         1         1       65s\nmemcached-reserve-5bf87f5d54        1         1         1       64s\nmongodb-geo-5ff578bcb8              1         1         1       66s\nmongodb-profile-758cb77f9f          1         1         1       65s\nmongodb-rate-56cc8659c9             1         1         1       65s\nmongodb-recommendation-55699465f7   1         1         1       65s\nmongodb-reservation-5994859869      1         1         1       64s\nmongodb-user-969c6c449              1         1         1       64s\nprofile-8b6dd7c6c                   1         1         1       65s\nrate-7bdc978679                     1         1         1       65s\nrecommendation-6879fb56bf           1         1         1       64s\nreservation-78c9f7976b              1         1         1       64s\nsearch-5c64c8f5bc                   1         1         1       64s\nuser-66d5d6f874                     1         1         1       63s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe replicaset -n test-hotel-reservation -l io.kompose.service=geo\")",
      "command": "exec_shell(\"kubectl describe replicaset -n test-hotel-reservation-44c1044a -l io.kompose.service=geo\")",
      "result": "Name:           geo-84fbc958c7\nNamespace:      test-hotel-reservation-44c1044a\nSelector:       io.kompose.service=geo,pod-template-hash=84fbc958c7\nLabels:         io.kompose.service=geo\n                pod-template-hash=84fbc958c7\nAnnotations:    deployment.kubernetes.io/desired-replicas: 1\n                deployment.kubernetes.io/max-replicas: 2\n                deployment.kubernetes.io/revision: 1\n                kompose.cmd: kompose convert\n                kompose.version: 1.22.0 (955b78124)\nControlled By:  Deployment/geo\nReplicas:       1 current / 1 desired\nPods Status:    1 Running / 0 Waiting / 0 Succeeded / 0 Failed\nPod Template:\n  Labels:       io.kompose.service=geo\n                pod-template-hash=84fbc958c7\n  Annotations:  kompose.cmd: kompose convert\n                kompose.version: 1.22.0 (955b78124)\n                sidecar.istio.io/statsInclusionPrefixes:\n                  cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\n                sidecar.istio.io/statsInclusionRegexps: http.*\n  Containers:\n   hotel-reserv-geo:\n    Image:      yinfangchen/hotelreservation:latest\n    Port:       8083/TCP\n    Host Port:  0/TCP\n    Command:\n      geo\n    Limits:\n      cpu:  1\n    Requests:\n      cpu:  100m\n    Environment:\n      JAEGER_SAMPLE_RATIO:  1\n    Mounts:                 <none>\n  Volumes:                  <none>\n  Node-Selectors:           <none>\n  Tolerations:              <none>\nEvents:\n  Type    Reason            Age   From                   Message\n  ----    ------            ----  ----                   -------\n  Normal  SuccessfulCreate  67s   replicaset-controller  Created pod: geo-84fbc958c7-c6g2d\n  Normal  SuccessfulCreate  47s   replicaset-controller  Created pod: geo-84fbc958c7-c26cc\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs deployment/geo -n test-hotel-reservation --all-containers=true\")",
      "command": "exec_shell(\"kubectl logs deployment/geo -n test-hotel-reservation-44c1044a --all-containers=true\")",
      "result": "\u001b[90m2025-12-24T10:14:19Z\u001b[0m \u001b[32mINF\u001b[0m \u001b[1mcmd/geo/main.go:23\u001b[0m\u001b[36m >\u001b[0m \u001b[1mReading config...\u001b[0m\n{\"level\":\"info\",\"time\":\"2025-12-24T10:14:19Z\",\"message\":\"TLS disabled.\"}\n{\"level\":\"info\",\"time\":\"2025-12-24T10:14:19Z\",\"message\":\"Set global log level: info\"}\n{\"level\":\"info\",\"time\":\"2025-12-24T10:14:19Z\",\"message\":\"Tune: setGCPercent to 100\"}\n\u001b[90m2025-12-24T10:14:19Z\u001b[0m \u001b[32mINF\u001b[0m \u001b[1mcmd/geo/main.go:36\u001b[0m\u001b[36m >\u001b[0m \u001b[1mRead database URL: mongodb-geo:27017\u001b[0m\n\u001b[90m2025-12-24T10:14:19Z\u001b[0m \u001b[32mINF\u001b[0m \u001b[1mcmd/geo/main.go:37\u001b[0m\u001b[36m >\u001b[0m \u001b[1mInitializing DB connection...\u001b[0m\n\u001b[90m2025-12-24T10:14:19Z\u001b[0m \u001b[31mPNC\u001b[0m \u001b[1mcmd/geo/db.go:26\u001b[0m\u001b[36m >\u001b[0m \u001b[1mserver returned error on SASL authentication step: Authentication failed.\u001b[0m\npanic: server returned error on SASL authentication step: Authentication failed.\n\ngoroutine 1 [running]:\ngithub.com/rs/zerolog.(*Logger).Panic.func1({0xc0001d00a0, 0x0})\n\t/go/src/github.com/harlow/go-micro-services/vendor/github.com/rs/zerolog/log.go:405 +0x2d\ngithub.com/rs/zerolog.(*Event).msg(0xc0001b6150, {0xc0001d00a0, 0x49})\n\t/go/src/github.com/harlow/go-micro-services/vendor/github.com/rs/zerolog/event.go:158 +0x2b8\ngithub.com/rs/zerolog.(*Event).Msg(...)\n\t/go/src/github.com/harlow/go-micro-services/vendor/github.com/rs/zerolog/event.go:110\nmain.initializeDatabase({0xc0001c21e0, 0xc000197dd0})\n\t/go/src/github.com/harlow/go-micro-services/cmd/geo/db.go:26 +0x167\nmain.main()\n\t/go/src/github.com/harlow/go-micro-services/cmd/geo/main.go:38 +0x877\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl exec -it mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation -- ps aux\")",
      "command": "exec_shell(\"kubectl exec -it mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation-44c1044a -- ps aux\")",
      "result": "Error from server (NotFound): pods \"mongodb-geo-5ff578bcb8-vpmcs\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl exec -it mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation -- netstat -tlnp\")",
      "command": "exec_shell(\"kubectl exec -it mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation-44c1044a -- netstat -tlnp\")",
      "result": "Error from server (NotFound): pods \"mongodb-geo-5ff578bcb8-vpmcs\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get networkpolicies -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get networkpolicies -n test-hotel-reservation-44c1044a\")",
      "result": "No resources found in test-hotel-reservation-44c1044a namespace.\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get ingress -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get ingress -n test-hotel-reservation-44c1044a\")",
      "result": "No resources found in test-hotel-reservation-44c1044a namespace.\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pvc -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get pvc -n test-hotel-reservation-44c1044a\")",
      "result": "NAME                 STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS       VOLUMEATTRIBUTESCLASS   AGE\ngeo-pvc              Bound    pvc-e9e2113f-2932-4e68-a96a-befcb2958961   1Gi        RWO            openebs-hostpath   <unset>                 72s\nprofile-pvc          Bound    pvc-c780097e-eb40-4329-9281-ded226f51326   1Gi        RWO            openebs-hostpath   <unset>                 71s\nrate-pvc             Bound    pvc-e6b336e9-a7a3-4416-aa1e-6415d1336ab8   1Gi        RWO            openebs-hostpath   <unset>                 71s\nrecommendation-pvc   Bound    pvc-66cda1f1-c789-4fed-8a71-42124bbdafd8   1Gi        RWO            openebs-hostpath   <unset>                 71s\nreservation-pvc      Bound    pvc-31f9a276-652e-4c55-85fa-8f19eb9aef53   1Gi        RWO            openebs-hostpath   <unset>                 71s\nuser-pvc             Bound    pvc-073fbe22-67c7-4ac1-a765-bcec6e2182a4   1Gi        RWO            openebs-hostpath   <unset>                 71s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pv\")",
      "command": "exec_shell(\"kubectl get pv\")",
      "result": "NAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                                                STORAGECLASS       VOLUMEATTRIBUTESCLASS   REASON   AGE\npvc-073fbe22-67c7-4ac1-a765-bcec6e2182a4   1Gi        RWO            Delete           Bound    test-hotel-reservation-44c1044a/user-pvc             openebs-hostpath   <unset>                          55s\npvc-31f9a276-652e-4c55-85fa-8f19eb9aef53   1Gi        RWO            Delete           Bound    test-hotel-reservation-44c1044a/reservation-pvc      openebs-hostpath   <unset>                          57s\npvc-38d48591-b944-4d91-aa2c-bcf630ac60f8   8Gi        RWO            Delete           Bound    observe/prometheus-server                            openebs-hostpath   <unset>                          110m\npvc-66cda1f1-c789-4fed-8a71-42124bbdafd8   1Gi        RWO            Delete           Bound    test-hotel-reservation-44c1044a/recommendation-pvc   openebs-hostpath   <unset>                          59s\npvc-c780097e-eb40-4329-9281-ded226f51326   1Gi        RWO            Delete           Bound    test-hotel-reservation-44c1044a/profile-pvc          openebs-hostpath   <unset>                          61s\npvc-e6b336e9-a7a3-4416-aa1e-6415d1336ab8   1Gi        RWO            Delete           Bound    test-hotel-reservation-44c1044a/rate-pvc             openebs-hostpath   <unset>                          59s\npvc-e9e2113f-2932-4e68-a96a-befcb2958961   1Gi        RWO            Delete           Bound    test-hotel-reservation-44c1044a/geo-pvc              openebs-hostpath   <unset>                          63s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl auth can-i get pods --namespace test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl auth can-i get pods --namespace test-hotel-reservation-44c1044a\")",
      "result": "yes\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get serviceaccounts -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get serviceaccounts -n test-hotel-reservation-44c1044a\")",
      "result": "NAME      SECRETS   AGE\ndefault   0         75s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe serviceaccount default -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe serviceaccount default -n test-hotel-reservation-44c1044a\")",
      "result": "Name:                default\nNamespace:           test-hotel-reservation-44c1044a\nLabels:              <none>\nAnnotations:         <none>\nImage pull secrets:  <none>\nMountable secrets:   <none>\nTokens:              <none>\nEvents:              <none>\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation -o custom-columns=NAME:.metadata.name,STATUS:.status.phase,RESTARTS:.status.containerStatuses[0].restartCount,NODE:.spec.nodeName\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-44c1044a -o custom-columns=NAME:.metadata.name,STATUS:.status.phase,RESTARTS:.status.containerStatuses[0].restartCount,NODE:.spec.nodeName\")",
      "result": "NAME                                      STATUS      RESTARTS   NODE\nconsul-78c8d79bb-c6dpz                    Running     0          kind-worker\nfrontend-7fc7ddc9db-fffsz                 Running     0          kind-worker\ngeo-84fbc958c7-c26cc                      Running     3          kind-worker\njaeger-67445b6dd6-gvrkt                   Running     0          kind-worker\nmemcached-profile-668dcd6dbb-sk28x        Running     0          kind-worker\nmemcached-rate-5b666ddfcb-5q5m4           Running     0          kind-worker\nmemcached-reserve-5bf87f5d54-rs4zn        Running     0          kind-worker\nmongodb-geo-5ff578bcb8-q4tsg              Running     0          kind-worker\nmongodb-profile-758cb77f9f-qzbv8          Running     0          kind-worker\nmongodb-rate-56cc8659c9-cz7nf             Running     0          kind-worker\nmongodb-recommendation-55699465f7-qhx8d   Running     0          kind-worker\nmongodb-reservation-5994859869-ppbpw      Running     0          kind-worker\nmongodb-user-969c6c449-dthvq              Running     0          kind-worker\nprofile-8b6dd7c6c-45dr6                   Running     0          kind-worker\nrate-7bdc978679-n7k74                     Running     0          kind-worker\nrecommendation-6879fb56bf-98vl9           Running     0          kind-worker\nreservation-78c9f7976b-rljjf              Running     1          kind-worker\nsearch-5c64c8f5bc-8q5m4                   Running     0          kind-worker\nuser-66d5d6f874-qk6kk                     Running     1          kind-worker\nwrk2-job-44c1044a-g5n25                   Failed      0          kind-worker\nwrk2-job-44c1044a-gk7jx                   Succeeded   0          kind-worker\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation --sort-by=.status.containerStatuses[0].restartCount\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-44c1044a --sort-by=.status.containerStatuses[0].restartCount\")",
      "result": "NAME                                      READY   STATUS      RESTARTS      AGE\nmongodb-recommendation-55699465f7-qhx8d   1/1     Running     0             74s\nmongodb-reservation-5994859869-ppbpw      1/1     Running     0             73s\nwrk2-job-44c1044a-gk7jx                   0/1     Completed   0             36s\njaeger-67445b6dd6-gvrkt                   1/1     Running     0             75s\nmemcached-profile-668dcd6dbb-sk28x        1/1     Running     0             74s\nmemcached-rate-5b666ddfcb-5q5m4           1/1     Running     0             74s\nmemcached-reserve-5bf87f5d54-rs4zn        1/1     Running     0             73s\nmongodb-geo-5ff578bcb8-q4tsg              1/1     Running     0             54s\nmongodb-profile-758cb77f9f-qzbv8          1/1     Running     0             74s\nmongodb-rate-56cc8659c9-cz7nf             1/1     Running     0             74s\nfrontend-7fc7ddc9db-fffsz                 1/1     Running     0             75s\nmongodb-user-969c6c449-dthvq              1/1     Running     0             72s\nconsul-78c8d79bb-c6dpz                    1/1     Running     0             75s\nprofile-8b6dd7c6c-45dr6                   1/1     Running     0             74s\nrate-7bdc978679-n7k74                     1/1     Running     0             74s\nrecommendation-6879fb56bf-98vl9           1/1     Running     0             73s\nwrk2-job-44c1044a-g5n25                   0/1     Error       0             47s\nsearch-5c64c8f5bc-8q5m4                   1/1     Running     0             72s\nuser-66d5d6f874-qk6kk                     1/1     Running     1 (58s ago)   72s\nreservation-78c9f7976b-rljjf              1/1     Running     1 (53s ago)   73s\ngeo-84fbc958c7-c26cc                      0/1     Error       3 (34s ago)   55s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs geo-84fbc958c7-lpqmr -n test-hotel-reservation | grep -i 'mongo\\|auth\\|connect\\|error\\|failed'\")",
      "command": "exec_shell(\"kubectl logs geo-84fbc958c7-lpqmr -n test-hotel-reservation-44c1044a | grep -i 'mongo\\|auth\\|connect\\|error\\|failed'\")",
      "result": "error: error from server (NotFound): pods \"geo-84fbc958c7-lpqmr\" not found in namespace \"test-hotel-reservation-44c1044a\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation | grep -i 'auth\\|admin\\|user\\|drop'\")",
      "command": "exec_shell(\"kubectl logs mongodb-geo-5ff578bcb8-vpmcs -n test-hotel-reservation-44c1044a | grep -i 'auth\\|admin\\|user\\|drop'\")",
      "result": "error: error from server (NotFound): pods \"mongodb-geo-5ff578bcb8-vpmcs\" not found in namespace \"test-hotel-reservation-44c1044a\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get events -n test-hotel-reservation --field-selector involvedObject.kind=Pod --sort-by='.lastTimestamp' | tail -50\")",
      "command": "exec_shell(\"kubectl get events -n test-hotel-reservation-44c1044a --field-selector involvedObject.kind=Pod --sort-by='.lastTimestamp' | tail -50\")",
      "result": "67s         Normal    Created     pod/mongodb-geo-5ff578bcb8-624cb              Created container: hotel-reserv-geo-mongo\n67s         Normal    Pulled      pod/mongodb-geo-5ff578bcb8-624cb              Container image \"mongo:4.4.6\" already present on machine\n66s         Normal    Scheduled   pod/mongodb-profile-758cb77f9f-qzbv8          Successfully assigned test-hotel-reservation-44c1044a/mongodb-profile-758cb77f9f-qzbv8 to kind-worker\n65s         Normal    Pulled      pod/mongodb-profile-758cb77f9f-qzbv8          Container image \"mongo:4.4.6\" already present on machine\n65s         Normal    Created     pod/mongodb-profile-758cb77f9f-qzbv8          Created container: hotel-reserv-profile-mongo\n65s         Normal    Started     pod/mongodb-profile-758cb77f9f-qzbv8          Started container hotel-reserv-profile-mongo\n65s         Normal    Scheduled   pod/mongodb-rate-56cc8659c9-cz7nf             Successfully assigned test-hotel-reservation-44c1044a/mongodb-rate-56cc8659c9-cz7nf to kind-worker\n64s         Normal    Created     pod/mongodb-rate-56cc8659c9-cz7nf             Created container: hotel-reserv-rate-mongo\n64s         Normal    Scheduled   pod/mongodb-recommendation-55699465f7-qhx8d   Successfully assigned test-hotel-reservation-44c1044a/mongodb-recommendation-55699465f7-qhx8d to kind-worker\n64s         Normal    Pulled      pod/mongodb-rate-56cc8659c9-cz7nf             Container image \"mongo:4.4.6\" already present on machine\n63s         Normal    Scheduled   pod/mongodb-reservation-5994859869-ppbpw      Successfully assigned test-hotel-reservation-44c1044a/mongodb-reservation-5994859869-ppbpw to kind-worker\n63s         Normal    Started     pod/mongodb-recommendation-55699465f7-qhx8d   Started container hotel-reserv-recommendation-mongo\n63s         Normal    Created     pod/mongodb-recommendation-55699465f7-qhx8d   Created container: hotel-reserv-recommendation-mongo\n63s         Normal    Pulled      pod/mongodb-recommendation-55699465f7-qhx8d   Container image \"mongo:4.4.6\" already present on machine\n63s         Normal    Started     pod/mongodb-rate-56cc8659c9-cz7nf             Started container hotel-reserv-rate-mongo\n62s         Normal    Pulled      pod/mongodb-reservation-5994859869-ppbpw      Container image \"mongo:4.4.6\" already present on machine\n62s         Normal    Created     pod/mongodb-reservation-5994859869-ppbpw      Created container: hotel-reserv-reservation-mongo\n62s         Normal    Started     pod/mongodb-reservation-5994859869-ppbpw      Started container hotel-reserv-reservation-mongo\n60s         Normal    Pulled      pod/mongodb-user-969c6c449-dthvq              Container image \"mongo:4.4.6\" already present on machine\n60s         Normal    Created     pod/mongodb-user-969c6c449-dthvq              Created container: hotel-reserv-user-mongo\n60s         Normal    Created     pod/geo-84fbc958c7-c6g2d                      Created container: hotel-reserv-geo\n60s         Normal    Scheduled   pod/mongodb-user-969c6c449-dthvq              Successfully assigned test-hotel-reservation-44c1044a/mongodb-user-969c6c449-dthvq to kind-worker\n60s         Normal    Pulled      pod/geo-84fbc958c7-c6g2d                      Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n60s         Normal    Started     pod/geo-84fbc958c7-c6g2d                      Started container hotel-reserv-geo\n59s         Normal    Started     pod/user-66d5d6f874-qk6kk                     Started container hotel-reserv-user\n59s         Normal    Started     pod/mongodb-user-969c6c449-dthvq              Started container hotel-reserv-user-mongo\n59s         Normal    Created     pod/user-66d5d6f874-qk6kk                     Created container: hotel-reserv-user\n59s         Normal    Pulled      pod/user-66d5d6f874-qk6kk                     Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n57s         Normal    Killing     pod/geo-84fbc958c7-c6g2d                      Stopping container hotel-reserv-geo\n57s         Normal    Scheduled   pod/geo-84fbc958c7-c26cc                      Successfully assigned test-hotel-reservation-44c1044a/geo-84fbc958c7-c26cc to kind-worker\n56s         Normal    Killing     pod/mongodb-geo-5ff578bcb8-624cb              Stopping container hotel-reserv-geo-mongo\n56s         Normal    Scheduled   pod/mongodb-geo-5ff578bcb8-q4tsg              Successfully assigned test-hotel-reservation-44c1044a/mongodb-geo-5ff578bcb8-q4tsg to kind-worker\n55s         Normal    Pulled      pod/mongodb-geo-5ff578bcb8-q4tsg              Container image \"mongo:4.4.6\" already present on machine\n54s         Normal    Started     pod/reservation-78c9f7976b-rljjf              Started container hotel-reserv-reservation\n54s         Normal    Created     pod/mongodb-geo-5ff578bcb8-q4tsg              Created container: hotel-reserv-geo-mongo\n54s         Normal    Created     pod/reservation-78c9f7976b-rljjf              Created container: hotel-reserv-reservation\n54s         Normal    Pulled      pod/reservation-78c9f7976b-rljjf              Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n54s         Normal    Started     pod/mongodb-geo-5ff578bcb8-q4tsg              Started container hotel-reserv-geo-mongo\n49s         Normal    Scheduled   pod/wrk2-job-44c1044a-g5n25                   Successfully assigned test-hotel-reservation-44c1044a/wrk2-job-44c1044a-g5n25 to kind-worker\n48s         Normal    Pulled      pod/wrk2-job-44c1044a-g5n25                   Container image \"deathstarbench/wrk2-client:latest\" already present on machine\n48s         Normal    Created     pod/wrk2-job-44c1044a-g5n25                   Created container: wrk2\n48s         Normal    Started     pod/wrk2-job-44c1044a-g5n25                   Started container wrk2\n38s         Normal    Scheduled   pod/wrk2-job-44c1044a-gk7jx                   Successfully assigned test-hotel-reservation-44c1044a/wrk2-job-44c1044a-gk7jx to kind-worker\n38s         Normal    Pulled      pod/wrk2-job-44c1044a-gk7jx                   Container image \"deathstarbench/wrk2-client:latest\" already present on machine\n38s         Normal    Created     pod/wrk2-job-44c1044a-gk7jx                   Created container: wrk2\n38s         Normal    Started     pod/wrk2-job-44c1044a-gk7jx                   Started container wrk2\n11s         Normal    Created     pod/geo-84fbc958c7-c26cc                      Created container: hotel-reserv-geo\n11s         Normal    Started     pod/geo-84fbc958c7-c26cc                      Started container hotel-reserv-geo\n11s         Normal    Pulled      pod/geo-84fbc958c7-c26cc                      Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n10s         Warning   BackOff     pod/geo-84fbc958c7-c26cc                      Back-off restarting failed container hotel-reserv-geo in pod geo-84fbc958c7-c26cc_test-hotel-reservation-44c1044a(fbea3577-2f78-4e42-882b-8a358499cce8)\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe deployment mongodb-geo -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe deployment mongodb-geo -n test-hotel-reservation-44c1044a\")",
      "result": "Name:               mongodb-geo\nNamespace:          test-hotel-reservation-44c1044a\nCreationTimestamp:  Wed, 24 Dec 2025 18:13:13 +0800\nLabels:             io.kompose.service=mongodb-geo\nAnnotations:        deployment.kubernetes.io/revision: 1\n                    kompose.cmd: kompose convert\n                    kompose.version: 1.22.0 (955b78124)\nSelector:           io.kompose.service=mongodb-geo\nReplicas:           1 desired | 1 updated | 1 total | 1 available | 0 unavailable\nStrategyType:       Recreate\nMinReadySeconds:    0\nPod Template:\n  Labels:       io.kompose.service=mongodb-geo\n  Annotations:  kompose.cmd: kompose convert\n                kompose.version: 1.22.0 (955b78124)\n                sidecar.istio.io/statsInclusionPrefixes:\n                  cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\n                sidecar.istio.io/statsInclusionRegexps: http.*\n  Containers:\n   hotel-reserv-geo-mongo:\n    Image:      mongo:4.4.6\n    Port:       27017/TCP\n    Host Port:  0/TCP\n    Args:\n      --auth\n    Limits:\n      cpu:  1\n    Requests:\n      cpu:        100m\n    Environment:  <none>\n    Mounts:\n      /data/db from geo (rw)\n      /docker-entrypoint-initdb.d from init-script (rw)\n      /scripts from failure-script (rw)\n  Volumes:\n   geo:\n    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)\n    ClaimName:  geo-pvc\n    ReadOnly:   false\n   init-script:\n    Type:      ConfigMap (a volume populated by a ConfigMap)\n    Name:      mongo-geo-script\n    Optional:  false\n   failure-script:\n    Type:          ConfigMap (a volume populated by a ConfigMap)\n    Name:          failure-admin-geo\n    Optional:      false\n  Node-Selectors:  <none>\n  Tolerations:     <none>\nConditions:\n  Type           Status  Reason\n  ----           ------  ------\n  Progressing    True    NewReplicaSetAvailable\n  Available      True    MinimumReplicasAvailable\nOldReplicaSets:  <none>\nNewReplicaSet:   mongodb-geo-5ff578bcb8 (1/1 replicas created)\nEvents:\n  Type    Reason             Age   From                   Message\n  ----    ------             ----  ----                   -------\n  Normal  ScalingReplicaSet  78s   deployment-controller  Scaled up replica set mongodb-geo-5ff578bcb8 from 0 to 1\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl rollout status deployment/geo -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl rollout status deployment/geo -n test-hotel-reservation-44c1044a\")",
      "result": "Error: Failed to execute command: kubectl rollout status deployment/geo -n test-hotel-reservation-44c1044a\nError: Command 'kubectl rollout status deployment/geo -n test-hotel-reservation-44c1044a' timed out after 10 seconds",
      "success": false,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl rollout history deployment/geo -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl rollout history deployment/geo -n test-hotel-reservation-44c1044a\")",
      "result": "deployment.apps/geo \nREVISION  CHANGE-CAUSE\n1         <none>\n\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n kube-system\")",
      "command": "exec_shell(\"kubectl get pods -n kube-system\")",
      "result": "NAME                                         READY   STATUS    RESTARTS   AGE\ncoredns-668d6bf9bc-ht4q4                     1/1     Running   0          114m\ncoredns-668d6bf9bc-qclkn                     1/1     Running   0          114m\netcd-kind-control-plane                      1/1     Running   0          114m\nkindnet-4htl2                                1/1     Running   0          114m\nkindnet-9zgwj                                1/1     Running   0          114m\nkube-apiserver-kind-control-plane            1/1     Running   0          114m\nkube-controller-manager-kind-control-plane   1/1     Running   0          114m\nkube-proxy-ml7xq                             1/1     Running   0          114m\nkube-proxy-vwnmz                             1/1     Running   0          114m\nkube-scheduler-kind-control-plane            1/1     Running   0          114m\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl cluster-info\")",
      "command": "exec_shell(\"kubectl cluster-info\")",
      "result": "Kubernetes control plane is running at https://127.0.0.1:42114\nCoreDNS is running at https://127.0.0.1:42114/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy\n\nTo further debug and diagnose cluster problems, use 'kubectl cluster-info dump'.\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl version\")",
      "command": "exec_shell(\"kubectl version\")",
      "result": "Client Version: v1.34.3\nKustomize Version: v5.7.1\nServer Version: v1.32.0\nWarning: version difference between client (1.34) and server (1.32) exceeds the supported minor version skew of +/-1\n",
      "success": true,
      "attempt": 1
    }
  ]
}