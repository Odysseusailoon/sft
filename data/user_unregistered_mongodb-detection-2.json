{
  "problem_id": "user_unregistered_mongodb-detection-2",
  "system_state_summary": "这是一个酒店预订系统(Hotel Reservation)的故障场景,部署在test-hotel-reservation命名空间中。系统由多个微服务组成,包括frontend、rate、profile、geo、recommendation、reservation、search、user等服务,以及consul作为服务发现组件。\n\n**核心故障现象**:\n1. rate服务的Pod(rate-7bdc978679-76gbq)处于CrashLoopBackOff状态,容器hotel-reserv-rate反复重启失败\n2. profile和reservation服务的MongoDB相关ConfigMap缺失:mongo-profile-script和mongo-reservation-script未找到\n3. rate服务在过去81秒内已重启4次,最新的BackOff警告显示容器持续启动失败\n\n**关键错误信息**:\n- Events显示: 'Back-off restarting failed container hotel-reserv-rate in pod rate-7bdc978679-76gbq_test-hotel-reservation'\n- ConfigMap查询返回: 'Error from server (NotFound): configmaps \"mongo-profile-script\" not found'\n- ConfigMap查询返回: 'Error from server (NotFound): configmaps \"mongo-reservation-script\" not found'\n\n**当前集群资源状态**:\n- 所有Pod运行在kind-worker节点(172.18.0.4)\n- 其他服务状态正常: consul(Running)、frontend(Running)、recommendation(Running)、reservation(Running)、search(Running)、user(Running)\n- 现有ConfigMap包括: failure-admin-rate、mongo-geo-script、mongo-rate-script\n- rate服务使用镜像: yinfangchen/hotelreservation:latest\n\n**故障根因分析**:\nrate服务依赖MongoDB进行数据持久化,但MongoDB初始化所需的ConfigMap(mongo-profile-script和mongo-reservation-script)缺失,导致数据库连接失败或初始化失败,进而引发容器启动失败并进入CrashLoopBackOff循环。这是一个典型的配置缺失导致的服务依赖故障。",
  "execution_info": {
    "start_time": "2025-12-24T18:15:55.775912",
    "end_time": "2025-12-24T18:16:45.506925",
    "duration_seconds": 49.731013,
    "total_commands": 68,
    "successful_commands": 68,
    "failed_commands": 0
  },
  "commands": [
    {
      "original_command": "exec_shell(\"kubectl get namespaces\")",
      "command": "exec_shell(\"kubectl get namespaces\")",
      "result": "NAME                              STATUS   AGE\nchaos-mesh                        Active   40m\ndefault                           Active   115m\nkube-node-lease                   Active   115m\nkube-public                       Active   115m\nkube-system                       Active   115m\nlocal-path-storage                Active   115m\nobserve                           Active   112m\nopenebs                           Active   112m\ntest-hotel-reservation-009db6f9   Active   40s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-009db6f9\")",
      "result": "NAME                                      READY   STATUS    RESTARTS      AGE\nconsul-78c8d79bb-tvx57                    1/1     Running   0             39s\nfrontend-7fc7ddc9db-mczv2                 1/1     Running   0             39s\ngeo-84fbc958c7-s7khj                      1/1     Running   1 (22s ago)   39s\njaeger-67445b6dd6-f4dn8                   1/1     Running   0             39s\nmemcached-profile-668dcd6dbb-29kpq        1/1     Running   0             39s\nmemcached-rate-5b666ddfcb-rtkjh           1/1     Running   0             15s\nmemcached-reserve-5bf87f5d54-rjhk6        1/1     Running   0             38s\nmongodb-geo-5ff578bcb8-gzptw              1/1     Running   0             39s\nmongodb-profile-758cb77f9f-dk8tn          1/1     Running   0             39s\nmongodb-rate-56cc8659c9-kcg8c             1/1     Running   0             14s\nmongodb-recommendation-55699465f7-r44s2   1/1     Running   0             38s\nmongodb-reservation-5994859869-jv75t      1/1     Running   0             38s\nmongodb-user-969c6c449-c9htr              1/1     Running   0             37s\nprofile-8b6dd7c6c-bc822                   1/1     Running   1 (20s ago)   39s\nrate-7bdc978679-77bdb                     0/1     Error     1 (11s ago)   13s\nrecommendation-6879fb56bf-smpnj           1/1     Running   1 (18s ago)   38s\nreservation-78c9f7976b-68twt              1/1     Running   0             37s\nsearch-5c64c8f5bc-6nhw4                   1/1     Running   0             37s\nuser-66d5d6f874-8kkrm                     1/1     Running   1 (15s ago)   37s\nwrk2-job-009db6f9-r2sqc                   1/1     Running   0             6s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation -o wide\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-009db6f9 -o wide\")",
      "result": "NAME                                      READY   STATUS    RESTARTS      AGE   IP             NODE          NOMINATED NODE   READINESS GATES\nconsul-78c8d79bb-tvx57                    1/1     Running   0             40s   10.244.1.145   kind-worker   <none>           <none>\nfrontend-7fc7ddc9db-mczv2                 1/1     Running   0             40s   10.244.1.146   kind-worker   <none>           <none>\ngeo-84fbc958c7-s7khj                      1/1     Running   1 (23s ago)   40s   10.244.1.147   kind-worker   <none>           <none>\njaeger-67445b6dd6-f4dn8                   1/1     Running   0             40s   10.244.1.149   kind-worker   <none>           <none>\nmemcached-profile-668dcd6dbb-29kpq        1/1     Running   0             40s   10.244.1.150   kind-worker   <none>           <none>\nmemcached-rate-5b666ddfcb-rtkjh           1/1     Running   0             16s   10.244.1.170   kind-worker   <none>           <none>\nmemcached-reserve-5bf87f5d54-rjhk6        1/1     Running   0             39s   10.244.1.157   kind-worker   <none>           <none>\nmongodb-geo-5ff578bcb8-gzptw              1/1     Running   0             40s   10.244.1.162   kind-worker   <none>           <none>\nmongodb-profile-758cb77f9f-dk8tn          1/1     Running   0             40s   10.244.1.164   kind-worker   <none>           <none>\nmongodb-rate-56cc8659c9-kcg8c             1/1     Running   0             15s   10.244.1.171   kind-worker   <none>           <none>\nmongodb-recommendation-55699465f7-r44s2   1/1     Running   0             39s   10.244.1.167   kind-worker   <none>           <none>\nmongodb-reservation-5994859869-jv75t      1/1     Running   0             39s   10.244.1.168   kind-worker   <none>           <none>\nmongodb-user-969c6c449-c9htr              1/1     Running   0             38s   10.244.1.169   kind-worker   <none>           <none>\nprofile-8b6dd7c6c-bc822                   1/1     Running   1 (21s ago)   40s   10.244.1.152   kind-worker   <none>           <none>\nrate-7bdc978679-77bdb                     0/1     Error     1 (12s ago)   14s   10.244.1.172   kind-worker   <none>           <none>\nrecommendation-6879fb56bf-smpnj           1/1     Running   1 (19s ago)   39s   10.244.1.156   kind-worker   <none>           <none>\nreservation-78c9f7976b-68twt              1/1     Running   0             38s   10.244.1.158   kind-worker   <none>           <none>\nsearch-5c64c8f5bc-6nhw4                   1/1     Running   0             38s   10.244.1.160   kind-worker   <none>           <none>\nuser-66d5d6f874-8kkrm                     1/1     Running   1 (16s ago)   38s   10.244.1.161   kind-worker   <none>           <none>\nwrk2-job-009db6f9-r2sqc                   1/1     Running   0             7s    10.244.1.173   kind-worker   <none>           <none>\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation --show-labels\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-009db6f9 --show-labels\")",
      "result": "NAME                                      READY   STATUS    RESTARTS      AGE   LABELS\nconsul-78c8d79bb-tvx57                    1/1     Running   0             41s   io.kompose.service=consul,pod-template-hash=78c8d79bb\nfrontend-7fc7ddc9db-mczv2                 1/1     Running   0             41s   io.kompose.service=frontend,pod-template-hash=7fc7ddc9db\ngeo-84fbc958c7-s7khj                      1/1     Running   1 (24s ago)   41s   io.kompose.service=geo,pod-template-hash=84fbc958c7\njaeger-67445b6dd6-f4dn8                   1/1     Running   0             41s   io.kompose.service=jaeger,pod-template-hash=67445b6dd6\nmemcached-profile-668dcd6dbb-29kpq        1/1     Running   0             41s   io.kompose.service=memcached-profile,pod-template-hash=668dcd6dbb\nmemcached-rate-5b666ddfcb-rtkjh           1/1     Running   0             17s   io.kompose.service=memcached-rate,pod-template-hash=5b666ddfcb\nmemcached-reserve-5bf87f5d54-rjhk6        1/1     Running   0             40s   io.kompose.service=memcached-reserve,pod-template-hash=5bf87f5d54\nmongodb-geo-5ff578bcb8-gzptw              1/1     Running   0             41s   io.kompose.service=mongodb-geo,pod-template-hash=5ff578bcb8\nmongodb-profile-758cb77f9f-dk8tn          1/1     Running   0             41s   io.kompose.service=mongodb-profile,pod-template-hash=758cb77f9f\nmongodb-rate-56cc8659c9-kcg8c             1/1     Running   0             16s   io.kompose.service=mongodb-rate,pod-template-hash=56cc8659c9\nmongodb-recommendation-55699465f7-r44s2   1/1     Running   0             40s   io.kompose.service=mongodb-recommendation,pod-template-hash=55699465f7\nmongodb-reservation-5994859869-jv75t      1/1     Running   0             40s   io.kompose.service=mongodb-reservation,pod-template-hash=5994859869\nmongodb-user-969c6c449-c9htr              1/1     Running   0             39s   io.kompose.service=mongodb-user,pod-template-hash=969c6c449\nprofile-8b6dd7c6c-bc822                   1/1     Running   1 (22s ago)   41s   io.kompose.service=profile,pod-template-hash=8b6dd7c6c\nrate-7bdc978679-77bdb                     0/1     Error     1 (13s ago)   15s   io.kompose.service=rate,pod-template-hash=7bdc978679\nrecommendation-6879fb56bf-smpnj           1/1     Running   1 (20s ago)   40s   io.kompose.service=recommendation,pod-template-hash=6879fb56bf\nreservation-78c9f7976b-68twt              1/1     Running   0             39s   io.kompose.service=reservation,pod-template-hash=78c9f7976b\nsearch-5c64c8f5bc-6nhw4                   1/1     Running   0             39s   io.kompose.service=search,pod-template-hash=5c64c8f5bc\nuser-66d5d6f874-8kkrm                     1/1     Running   1 (17s ago)   39s   io.kompose.service=user,pod-template-hash=66d5d6f874\nwrk2-job-009db6f9-r2sqc                   1/1     Running   0             8s    batch.kubernetes.io/controller-uid=692865db-08b9-4bea-86f4-48f723e58a17,batch.kubernetes.io/job-name=wrk2-job-009db6f9,controller-uid=692865db-08b9-4bea-86f4-48f723e58a17,job-name=wrk2-job-009db6f9\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get deployments -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get deployments -n test-hotel-reservation-009db6f9\")",
      "result": "NAME                     READY   UP-TO-DATE   AVAILABLE   AGE\nconsul                   1/1     1            1           42s\nfrontend                 1/1     1            1           42s\ngeo                      1/1     1            1           42s\njaeger                   1/1     1            1           42s\nmemcached-profile        1/1     1            1           42s\nmemcached-rate           1/1     1            1           42s\nmemcached-reserve        1/1     1            1           42s\nmongodb-geo              1/1     1            1           42s\nmongodb-profile          1/1     1            1           42s\nmongodb-rate             1/1     1            1           42s\nmongodb-recommendation   1/1     1            1           42s\nmongodb-reservation      1/1     1            1           42s\nmongodb-user             1/1     1            1           42s\nprofile                  1/1     1            1           42s\nrate                     0/1     1            0           42s\nrecommendation           1/1     1            1           42s\nreservation              1/1     1            1           42s\nsearch                   1/1     1            1           42s\nuser                     1/1     1            1           42s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get services -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get services -n test-hotel-reservation-009db6f9\")",
      "result": "NAME                     TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                                                                       AGE\nconsul                   ClusterIP   10.96.222.37    <none>        8300/TCP,8400/TCP,8500/TCP,8600/UDP                                           42s\nfrontend                 ClusterIP   10.96.231.241   <none>        5000/TCP                                                                      42s\ngeo                      ClusterIP   10.96.148.239   <none>        8083/TCP                                                                      42s\njaeger                   ClusterIP   10.96.70.235    <none>        14269/TCP,5778/TCP,14268/TCP,14267/TCP,16686/TCP,5775/UDP,6831/UDP,6832/UDP   42s\njaeger-out               NodePort    10.96.119.94    <none>        16686:31567/TCP                                                               42s\nmemcached-profile        ClusterIP   10.96.78.51     <none>        11211/TCP                                                                     42s\nmemcached-rate           ClusterIP   10.96.166.84    <none>        11211/TCP                                                                     42s\nmemcached-reserve        ClusterIP   10.96.77.216    <none>        11211/TCP                                                                     42s\nmongodb-geo              ClusterIP   10.96.101.12    <none>        27017/TCP                                                                     42s\nmongodb-profile          ClusterIP   10.96.147.233   <none>        27017/TCP                                                                     42s\nmongodb-rate             ClusterIP   10.96.219.9     <none>        27017/TCP                                                                     42s\nmongodb-recommendation   ClusterIP   10.96.22.112    <none>        27017/TCP                                                                     42s\nmongodb-reservation      ClusterIP   10.96.152.63    <none>        27017/TCP                                                                     42s\nmongodb-user             ClusterIP   10.96.124.40    <none>        27017/TCP                                                                     42s\nprofile                  ClusterIP   10.96.12.191    <none>        8081/TCP                                                                      42s\nrate                     ClusterIP   10.96.192.79    <none>        8084/TCP                                                                      42s\nrecommendation           ClusterIP   10.96.135.143   <none>        8085/TCP                                                                      42s\nreservation              ClusterIP   10.96.214.69    <none>        8087/TCP                                                                      42s\nsearch                   ClusterIP   10.96.201.241   <none>        8082/TCP                                                                      42s\nuser                     ClusterIP   10.96.15.79     <none>        8086/TCP                                                                      42s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get nodes -o wide\")",
      "command": "exec_shell(\"kubectl get nodes -o wide\")",
      "result": "NAME                 STATUS   ROLES           AGE    VERSION   INTERNAL-IP   EXTERNAL-IP   OS-IMAGE                         KERNEL-VERSION                     CONTAINER-RUNTIME\nkind-control-plane   Ready    control-plane   115m   v1.32.0   172.18.0.3    <none>        Debian GNU/Linux 12 (bookworm)   6.6.87.2-microsoft-standard-WSL2   containerd://1.7.24\nkind-worker          Ready    <none>          115m   v1.32.0   172.18.0.2    <none>        Debian GNU/Linux 12 (bookworm)   6.6.87.2-microsoft-standard-WSL2   containerd://1.7.24\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl top nodes\")",
      "command": "exec_shell(\"kubectl top nodes\")",
      "result": "error: Metrics API not available\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe pod rate-7bdc978679-76gbq -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe pod rate-7bdc978679-76gbq -n test-hotel-reservation-009db6f9\")",
      "result": "Error from server (NotFound): pods \"rate-7bdc978679-76gbq\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get events -n test-hotel-reservation --sort-by='.lastTimestamp'\")",
      "command": "exec_shell(\"kubectl get events -n test-hotel-reservation-009db6f9 --sort-by='.lastTimestamp'\")",
      "result": "LAST SEEN   TYPE      REASON                  OBJECT                                         MESSAGE\n45s         Normal    SuccessfulCreate        replicaset/memcached-rate-5b666ddfcb           Created pod: memcached-rate-5b666ddfcb-tprss\n45s         Normal    WaitForFirstConsumer    persistentvolumeclaim/user-pvc                 waiting for first consumer to be created before binding\n45s         Normal    WaitForFirstConsumer    persistentvolumeclaim/reservation-pvc          waiting for first consumer to be created before binding\n45s         Normal    WaitForFirstConsumer    persistentvolumeclaim/recommendation-pvc       waiting for first consumer to be created before binding\n45s         Normal    SuccessfulCreate        replicaset/consul-78c8d79bb                    Created pod: consul-78c8d79bb-tvx57\n45s         Normal    ScalingReplicaSet       deployment/consul                              Scaled up replica set consul-78c8d79bb from 0 to 1\n45s         Normal    Scheduled               pod/frontend-7fc7ddc9db-mczv2                  Successfully assigned test-hotel-reservation-009db6f9/frontend-7fc7ddc9db-mczv2 to kind-worker\n45s         Normal    Scheduled               pod/consul-78c8d79bb-tvx57                     Successfully assigned test-hotel-reservation-009db6f9/consul-78c8d79bb-tvx57 to kind-worker\n45s         Normal    Provisioning            persistentvolumeclaim/rate-pvc                 External provisioner is provisioning volume for claim \"test-hotel-reservation-009db6f9/rate-pvc\"\n45s         Normal    ExternalProvisioning    persistentvolumeclaim/rate-pvc                 Waiting for a volume to be created either by the external provisioner 'openebs.io/local' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered.\n45s         Normal    SuccessfulCreate        replicaset/frontend-7fc7ddc9db                 Created pod: frontend-7fc7ddc9db-mczv2\n45s         Normal    ScalingReplicaSet       deployment/frontend                            Scaled up replica set frontend-7fc7ddc9db from 0 to 1\n45s         Normal    Scheduled               pod/geo-84fbc958c7-s7khj                       Successfully assigned test-hotel-reservation-009db6f9/geo-84fbc958c7-s7khj to kind-worker\n45s         Normal    WaitForFirstConsumer    persistentvolumeclaim/rate-pvc                 waiting for first consumer to be created before binding\n45s         Normal    ScalingReplicaSet       deployment/profile                             Scaled up replica set profile-8b6dd7c6c from 0 to 1\n45s         Normal    Provisioning            persistentvolumeclaim/profile-pvc              External provisioner is provisioning volume for claim \"test-hotel-reservation-009db6f9/profile-pvc\"\n45s         Normal    SuccessfulCreate        replicaset/geo-84fbc958c7                      Created pod: geo-84fbc958c7-s7khj\n45s         Normal    WaitForFirstConsumer    persistentvolumeclaim/geo-pvc                  waiting for first consumer to be created before binding\n45s         Normal    ExternalProvisioning    persistentvolumeclaim/geo-pvc                  Waiting for a volume to be created either by the external provisioner 'openebs.io/local' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered.\n45s         Normal    Provisioning            persistentvolumeclaim/geo-pvc                  External provisioner is provisioning volume for claim \"test-hotel-reservation-009db6f9/geo-pvc\"\n45s         Normal    ExternalProvisioning    persistentvolumeclaim/profile-pvc              Waiting for a volume to be created either by the external provisioner 'openebs.io/local' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered.\n45s         Normal    ScalingReplicaSet       deployment/geo                                 Scaled up replica set geo-84fbc958c7 from 0 to 1\n45s         Normal    Scheduled               pod/jaeger-67445b6dd6-f4dn8                    Successfully assigned test-hotel-reservation-009db6f9/jaeger-67445b6dd6-f4dn8 to kind-worker\n45s         Normal    WaitForFirstConsumer    persistentvolumeclaim/profile-pvc              waiting for first consumer to be created before binding\n45s         Normal    SuccessfulCreate        replicaset/profile-8b6dd7c6c                   Created pod: profile-8b6dd7c6c-bc822\n45s         Normal    Scheduled               pod/profile-8b6dd7c6c-bc822                    Successfully assigned test-hotel-reservation-009db6f9/profile-8b6dd7c6c-bc822 to kind-worker\n45s         Normal    SuccessfulCreate        replicaset/jaeger-67445b6dd6                   Created pod: jaeger-67445b6dd6-f4dn8\n45s         Normal    ScalingReplicaSet       deployment/jaeger                              Scaled up replica set jaeger-67445b6dd6 from 0 to 1\n45s         Normal    Scheduled               pod/memcached-profile-668dcd6dbb-29kpq         Successfully assigned test-hotel-reservation-009db6f9/memcached-profile-668dcd6dbb-29kpq to kind-worker\n45s         Normal    ScalingReplicaSet       deployment/mongodb-rate                        Scaled up replica set mongodb-rate-56cc8659c9 from 0 to 1\n45s         Normal    SuccessfulCreate        replicaset/mongodb-rate-56cc8659c9             Created pod: mongodb-rate-56cc8659c9-cmjhn\n45s         Normal    ScalingReplicaSet       deployment/mongodb-profile                     Scaled up replica set mongodb-profile-758cb77f9f from 0 to 1\n45s         Normal    SuccessfulCreate        replicaset/memcached-profile-668dcd6dbb        Created pod: memcached-profile-668dcd6dbb-29kpq\n45s         Normal    ScalingReplicaSet       deployment/memcached-profile                   Scaled up replica set memcached-profile-668dcd6dbb from 0 to 1\n45s         Normal    SuccessfulCreate        replicaset/mongodb-profile-758cb77f9f          Created pod: mongodb-profile-758cb77f9f-dk8tn\n45s         Normal    ScalingReplicaSet       deployment/mongodb-geo                         Scaled up replica set mongodb-geo-5ff578bcb8 from 0 to 1\n45s         Normal    SuccessfulCreate        replicaset/mongodb-geo-5ff578bcb8              Created pod: mongodb-geo-5ff578bcb8-gzptw\n45s         Normal    ScalingReplicaSet       deployment/memcached-rate                      Scaled up replica set memcached-rate-5b666ddfcb from 0 to 1\n45s         Normal    Scheduled               pod/memcached-rate-5b666ddfcb-tprss            Successfully assigned test-hotel-reservation-009db6f9/memcached-rate-5b666ddfcb-tprss to kind-worker\n44s         Normal    Scheduled               pod/recommendation-6879fb56bf-smpnj            Successfully assigned test-hotel-reservation-009db6f9/recommendation-6879fb56bf-smpnj to kind-worker\n44s         Normal    Scheduled               pod/memcached-reserve-5bf87f5d54-rjhk6         Successfully assigned test-hotel-reservation-009db6f9/memcached-reserve-5bf87f5d54-rjhk6 to kind-worker\n44s         Normal    Provisioning            persistentvolumeclaim/recommendation-pvc       External provisioner is provisioning volume for claim \"test-hotel-reservation-009db6f9/recommendation-pvc\"\n44s         Normal    ExternalProvisioning    persistentvolumeclaim/recommendation-pvc       Waiting for a volume to be created either by the external provisioner 'openebs.io/local' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered.\n44s         Normal    ScalingReplicaSet       deployment/mongodb-reservation                 Scaled up replica set mongodb-reservation-5994859869 from 0 to 1\n44s         Normal    SuccessfulCreate        replicaset/recommendation-6879fb56bf           Created pod: recommendation-6879fb56bf-smpnj\n44s         Normal    ExternalProvisioning    persistentvolumeclaim/reservation-pvc          Waiting for a volume to be created either by the external provisioner 'openebs.io/local' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered.\n44s         Normal    SuccessfulCreate        replicaset/mongodb-recommendation-55699465f7   Created pod: mongodb-recommendation-55699465f7-r44s2\n44s         Normal    SuccessfulCreate        replicaset/mongodb-reservation-5994859869      Created pod: mongodb-reservation-5994859869-jv75t\n44s         Normal    Scheduled               pod/rate-7bdc978679-kknzs                      Successfully assigned test-hotel-reservation-009db6f9/rate-7bdc978679-kknzs to kind-worker\n44s         Normal    ScalingReplicaSet       deployment/mongodb-recommendation              Scaled up replica set mongodb-recommendation-55699465f7 from 0 to 1\n44s         Normal    SuccessfulCreate        replicaset/memcached-reserve-5bf87f5d54        Created pod: memcached-reserve-5bf87f5d54-rjhk6\n44s         Normal    ScalingReplicaSet       deployment/memcached-reserve                   Scaled up replica set memcached-reserve-5bf87f5d54 from 0 to 1\n44s         Normal    ScalingReplicaSet       deployment/rate                                Scaled up replica set rate-7bdc978679 from 0 to 1\n44s         Normal    SuccessfulCreate        replicaset/rate-7bdc978679                     Created pod: rate-7bdc978679-kknzs\n44s         Normal    ScalingReplicaSet       deployment/recommendation                      Scaled up replica set recommendation-6879fb56bf from 0 to 1\n43s         Normal    SuccessfulCreate        replicaset/search-5c64c8f5bc                   Created pod: search-5c64c8f5bc-6nhw4\n43s         Normal    ScalingReplicaSet       deployment/search                              Scaled up replica set search-5c64c8f5bc from 0 to 1\n43s         Normal    Scheduled               pod/user-66d5d6f874-8kkrm                      Successfully assigned test-hotel-reservation-009db6f9/user-66d5d6f874-8kkrm to kind-worker\n43s         Normal    Scheduled               pod/search-5c64c8f5bc-6nhw4                    Successfully assigned test-hotel-reservation-009db6f9/search-5c64c8f5bc-6nhw4 to kind-worker\n43s         Normal    ScalingReplicaSet       deployment/reservation                         Scaled up replica set reservation-78c9f7976b from 0 to 1\n43s         Normal    SuccessfulCreate        replicaset/user-66d5d6f874                     Created pod: user-66d5d6f874-8kkrm\n43s         Normal    SuccessfulCreate        replicaset/reservation-78c9f7976b              Created pod: reservation-78c9f7976b-68twt\n43s         Normal    SuccessfulCreate        replicaset/mongodb-user-969c6c449              Created pod: mongodb-user-969c6c449-c9htr\n43s         Normal    ScalingReplicaSet       deployment/user                                Scaled up replica set user-66d5d6f874 from 0 to 1\n43s         Normal    ScalingReplicaSet       deployment/mongodb-user                        Scaled up replica set mongodb-user-969c6c449 from 0 to 1\n43s         Normal    Scheduled               pod/reservation-78c9f7976b-68twt               Successfully assigned test-hotel-reservation-009db6f9/reservation-78c9f7976b-68twt to kind-worker\n41s         Normal    Created                 pod/consul-78c8d79bb-tvx57                     Created container: consul\n41s         Normal    Pulled                  pod/consul-78c8d79bb-tvx57                     Container image \"hashicorp/consul:latest\" already present on machine\n40s         Normal    Pulled                  pod/memcached-profile-668dcd6dbb-29kpq         Container image \"memcached:1.6.7\" already present on machine\n40s         Normal    Pulled                  pod/jaeger-67445b6dd6-f4dn8                    Container image \"jaegertracing/all-in-one:1.57\" already present on machine\n40s         Normal    Started                 pod/jaeger-67445b6dd6-f4dn8                    Started container hotel-reserv-jaeger\n40s         Normal    Started                 pod/consul-78c8d79bb-tvx57                     Started container consul\n40s         Normal    Pulled                  pod/memcached-rate-5b666ddfcb-tprss            Container image \"memcached:1.6.7\" already present on machine\n40s         Normal    Created                 pod/memcached-profile-668dcd6dbb-29kpq         Created container: hotel-reserv-profile-mmc\n40s         Normal    Pulled                  pod/frontend-7fc7ddc9db-mczv2                  Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n40s         Normal    Started                 pod/memcached-profile-668dcd6dbb-29kpq         Started container hotel-reserv-profile-mmc\n40s         Normal    Created                 pod/jaeger-67445b6dd6-f4dn8                    Created container: hotel-reserv-jaeger\n40s         Normal    Created                 pod/frontend-7fc7ddc9db-mczv2                  Created container: hotel-reserv-frontend\n40s         Normal    Started                 pod/frontend-7fc7ddc9db-mczv2                  Started container hotel-reserv-frontend\n40s         Normal    Created                 pod/memcached-rate-5b666ddfcb-tprss            Created container: hotel-reserv-rate-mmc\n39s         Normal    Started                 pod/memcached-reserve-5bf87f5d54-rjhk6         Started container hotel-reserv-reservation-mmc\n39s         Normal    Created                 pod/memcached-reserve-5bf87f5d54-rjhk6         Created container: hotel-reserv-reservation-mmc\n39s         Normal    Pulled                  pod/reservation-78c9f7976b-68twt               Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n39s         Normal    Pulled                  pod/memcached-reserve-5bf87f5d54-rjhk6         Container image \"memcached:1.6.7\" already present on machine\n39s         Normal    Created                 pod/reservation-78c9f7976b-68twt               Created container: hotel-reserv-reservation\n39s         Normal    Started                 pod/memcached-rate-5b666ddfcb-tprss            Started container hotel-reserv-rate-mmc\n38s         Normal    Started                 pod/search-5c64c8f5bc-6nhw4                    Started container hotel-reserv-search\n38s         Normal    Created                 pod/search-5c64c8f5bc-6nhw4                    Created container: hotel-reserv-search\n38s         Normal    Pulled                  pod/search-5c64c8f5bc-6nhw4                    Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n38s         Normal    Started                 pod/reservation-78c9f7976b-68twt               Started container hotel-reserv-reservation\n37s         Normal    ProvisioningSucceeded   persistentvolumeclaim/geo-pvc                  Successfully provisioned volume pvc-750c3043-be4d-4bf7-a6d5-1882217d5868\n37s         Normal    Provisioning            persistentvolumeclaim/reservation-pvc          External provisioner is provisioning volume for claim \"test-hotel-reservation-009db6f9/reservation-pvc\"\n36s         Normal    Scheduled               pod/mongodb-geo-5ff578bcb8-gzptw               Successfully assigned test-hotel-reservation-009db6f9/mongodb-geo-5ff578bcb8-gzptw to kind-worker\n35s         Normal    Started                 pod/mongodb-geo-5ff578bcb8-gzptw               Started container hotel-reserv-geo-mongo\n35s         Normal    Scheduled               pod/mongodb-profile-758cb77f9f-dk8tn           Successfully assigned test-hotel-reservation-009db6f9/mongodb-profile-758cb77f9f-dk8tn to kind-worker\n35s         Normal    Created                 pod/mongodb-geo-5ff578bcb8-gzptw               Created container: hotel-reserv-geo-mongo\n35s         Normal    Pulled                  pod/mongodb-geo-5ff578bcb8-gzptw               Container image \"mongo:4.4.6\" already present on machine\n35s         Normal    ProvisioningSucceeded   persistentvolumeclaim/profile-pvc              Successfully provisioned volume pvc-be61dc72-d38d-460e-b256-c62a7a0040e7\n34s         Normal    Provisioning            persistentvolumeclaim/user-pvc                 External provisioner is provisioning volume for claim \"test-hotel-reservation-009db6f9/user-pvc\"\n34s         Normal    Scheduled               pod/mongodb-rate-56cc8659c9-cmjhn              Successfully assigned test-hotel-reservation-009db6f9/mongodb-rate-56cc8659c9-cmjhn to kind-worker\n34s         Normal    ProvisioningSucceeded   persistentvolumeclaim/rate-pvc                 Successfully provisioned volume pvc-0b87e16d-50b3-412b-9eeb-052e010bbd82\n33s         Normal    Pulled                  pod/mongodb-profile-758cb77f9f-dk8tn           Container image \"mongo:4.4.6\" already present on machine\n33s         Normal    Created                 pod/mongodb-profile-758cb77f9f-dk8tn           Created container: hotel-reserv-profile-mongo\n33s         Normal    Started                 pod/mongodb-profile-758cb77f9f-dk8tn           Started container hotel-reserv-profile-mongo\n33s         Normal    ProvisioningSucceeded   persistentvolumeclaim/recommendation-pvc       Successfully provisioned volume pvc-b6844cb0-dd4a-4e85-8ba5-60da0719f132\n33s         Normal    Scheduled               pod/mongodb-recommendation-55699465f7-r44s2    Successfully assigned test-hotel-reservation-009db6f9/mongodb-recommendation-55699465f7-r44s2 to kind-worker\n32s         Normal    Created                 pod/mongodb-rate-56cc8659c9-cmjhn              Created container: hotel-reserv-rate-mongo\n32s         Normal    ProvisioningSucceeded   persistentvolumeclaim/reservation-pvc          Successfully provisioned volume pvc-9cf7aa35-61c7-4b15-b358-d51038c8662d\n32s         Normal    Scheduled               pod/mongodb-reservation-5994859869-jv75t       Successfully assigned test-hotel-reservation-009db6f9/mongodb-reservation-5994859869-jv75t to kind-worker\n32s         Normal    Pulled                  pod/mongodb-rate-56cc8659c9-cmjhn              Container image \"mongo:4.4.6\" already present on machine\n32s         Normal    Started                 pod/mongodb-rate-56cc8659c9-cmjhn              Started container hotel-reserv-rate-mongo\n31s         Normal    Created                 pod/mongodb-recommendation-55699465f7-r44s2    Created container: hotel-reserv-recommendation-mongo\n31s         Normal    ExternalProvisioning    persistentvolumeclaim/user-pvc                 Waiting for a volume to be created either by the external provisioner 'openebs.io/local' or manually by the system administrator. If volume creation is delayed, please verify that the provisioner is running and correctly registered.\n31s         Normal    Pulled                  pod/mongodb-recommendation-55699465f7-r44s2    Container image \"mongo:4.4.6\" already present on machine\n31s         Normal    Started                 pod/mongodb-recommendation-55699465f7-r44s2    Started container hotel-reserv-recommendation-mongo\n30s         Normal    Started                 pod/mongodb-reservation-5994859869-jv75t       Started container hotel-reserv-reservation-mongo\n30s         Normal    Created                 pod/mongodb-reservation-5994859869-jv75t       Created container: hotel-reserv-reservation-mongo\n30s         Normal    Pulled                  pod/mongodb-reservation-5994859869-jv75t       Container image \"mongo:4.4.6\" already present on machine\n29s         Normal    Scheduled               pod/mongodb-user-969c6c449-c9htr               Successfully assigned test-hotel-reservation-009db6f9/mongodb-user-969c6c449-c9htr to kind-worker\n29s         Normal    ProvisioningSucceeded   persistentvolumeclaim/user-pvc                 Successfully provisioned volume pvc-ebc2c866-1d6d-4138-a81e-99515955f0f4\n28s         Normal    Created                 pod/mongodb-user-969c6c449-c9htr               Created container: hotel-reserv-user-mongo\n28s         Normal    Started                 pod/mongodb-user-969c6c449-c9htr               Started container hotel-reserv-user-mongo\n28s         Normal    Pulled                  pod/mongodb-user-969c6c449-c9htr               Container image \"mongo:4.4.6\" already present on machine\n27s         Normal    Pulled                  pod/geo-84fbc958c7-s7khj                       Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n27s         Normal    Started                 pod/geo-84fbc958c7-s7khj                       Started container hotel-reserv-geo\n27s         Normal    Created                 pod/geo-84fbc958c7-s7khj                       Created container: hotel-reserv-geo\n25s         Normal    Pulled                  pod/profile-8b6dd7c6c-bc822                    Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n25s         Normal    Created                 pod/profile-8b6dd7c6c-bc822                    Created container: hotel-reserv-profile\n25s         Normal    Started                 pod/profile-8b6dd7c6c-bc822                    Started container hotel-reserv-profile\n24s         Normal    Pulled                  pod/rate-7bdc978679-kknzs                      Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n24s         Normal    Created                 pod/rate-7bdc978679-kknzs                      Created container: hotel-reserv-rate\n24s         Normal    Started                 pod/rate-7bdc978679-kknzs                      Started container hotel-reserv-rate\n23s         Normal    Created                 pod/recommendation-6879fb56bf-smpnj            Created container: hotel-reserv-recommendation\n23s         Normal    Started                 pod/recommendation-6879fb56bf-smpnj            Started container hotel-reserv-recommendation\n23s         Normal    Pulled                  pod/recommendation-6879fb56bf-smpnj            Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n21s         Normal    Killing                 pod/memcached-rate-5b666ddfcb-tprss            Stopping container hotel-reserv-rate-mmc\n21s         Normal    Scheduled               pod/memcached-rate-5b666ddfcb-rtkjh            Successfully assigned test-hotel-reservation-009db6f9/memcached-rate-5b666ddfcb-rtkjh to kind-worker\n21s         Normal    SuccessfulCreate        replicaset/memcached-rate-5b666ddfcb           Created pod: memcached-rate-5b666ddfcb-rtkjh\n20s         Normal    Pulled                  pod/user-66d5d6f874-8kkrm                      Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n20s         Normal    Created                 pod/user-66d5d6f874-8kkrm                      Created container: hotel-reserv-user\n20s         Normal    Killing                 pod/mongodb-rate-56cc8659c9-cmjhn              Stopping container hotel-reserv-rate-mongo\n20s         Normal    SuccessfulCreate        replicaset/mongodb-rate-56cc8659c9             Created pod: mongodb-rate-56cc8659c9-kcg8c\n20s         Normal    Pulled                  pod/memcached-rate-5b666ddfcb-rtkjh            Container image \"memcached:1.6.7\" already present on machine\n20s         Normal    Created                 pod/memcached-rate-5b666ddfcb-rtkjh            Created container: hotel-reserv-rate-mmc\n20s         Normal    Scheduled               pod/mongodb-rate-56cc8659c9-kcg8c              Successfully assigned test-hotel-reservation-009db6f9/mongodb-rate-56cc8659c9-kcg8c to kind-worker\n20s         Normal    Started                 pod/memcached-rate-5b666ddfcb-rtkjh            Started container hotel-reserv-rate-mmc\n20s         Normal    Started                 pod/user-66d5d6f874-8kkrm                      Started container hotel-reserv-user\n19s         Normal    Started                 pod/mongodb-rate-56cc8659c9-kcg8c              Started container hotel-reserv-rate-mongo\n19s         Normal    Scheduled               pod/rate-7bdc978679-77bdb                      Successfully assigned test-hotel-reservation-009db6f9/rate-7bdc978679-77bdb to kind-worker\n19s         Normal    Created                 pod/mongodb-rate-56cc8659c9-kcg8c              Created container: hotel-reserv-rate-mongo\n19s         Normal    SuccessfulCreate        replicaset/rate-7bdc978679                     Created pod: rate-7bdc978679-77bdb\n19s         Normal    Killing                 pod/rate-7bdc978679-kknzs                      Stopping container hotel-reserv-rate\n19s         Normal    Pulled                  pod/mongodb-rate-56cc8659c9-kcg8c              Container image \"mongo:4.4.6\" already present on machine\n12s         Normal    Scheduled               pod/wrk2-job-009db6f9-r2sqc                    Successfully assigned test-hotel-reservation-009db6f9/wrk2-job-009db6f9-r2sqc to kind-worker\n12s         Normal    SuccessfulCreate        job/wrk2-job-009db6f9                          Created pod: wrk2-job-009db6f9-r2sqc\n11s         Normal    Pulled                  pod/wrk2-job-009db6f9-r2sqc                    Container image \"deathstarbench/wrk2-client:latest\" already present on machine\n11s         Normal    Created                 pod/wrk2-job-009db6f9-r2sqc                    Created container: wrk2\n11s         Normal    Started                 pod/wrk2-job-009db6f9-r2sqc                    Started container wrk2\n0s          Normal    Created                 pod/rate-7bdc978679-77bdb                      Created container: hotel-reserv-rate\n0s          Normal    Pulled                  pod/rate-7bdc978679-77bdb                      Container image \"yinfangchen/hotelreservation:latest\" already present on machine\n0s          Normal    Started                 pod/rate-7bdc978679-77bdb                      Started container hotel-reserv-rate\n0s          Warning   BackOff                 pod/rate-7bdc978679-77bdb                      Back-off restarting failed container hotel-reserv-rate in pod rate-7bdc978679-77bdb_test-hotel-reservation-009db6f9(3200dbcb-69df-46ba-b01f-d4ced3ed2e00)\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get events -n test-hotel-reservation --field-selector involvedObject.name=rate-7bdc978679-76gbq\")",
      "command": "exec_shell(\"kubectl get events -n test-hotel-reservation-009db6f9 --field-selector involvedObject.name=rate-7bdc978679-76gbq\")",
      "result": "No resources found in test-hotel-reservation-009db6f9 namespace.\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs rate-7bdc978679-76gbq -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl logs rate-7bdc978679-76gbq -n test-hotel-reservation-009db6f9\")",
      "result": "error: error from server (NotFound): pods \"rate-7bdc978679-76gbq\" not found in namespace \"test-hotel-reservation-009db6f9\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs rate-7bdc978679-76gbq -n test-hotel-reservation --previous\")",
      "command": "exec_shell(\"kubectl logs rate-7bdc978679-76gbq -n test-hotel-reservation-009db6f9 --previous\")",
      "result": "error: error from server (NotFound): pods \"rate-7bdc978679-76gbq\" not found in namespace \"test-hotel-reservation-009db6f9\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs rate-7bdc978679-76gbq -n test-hotel-reservation --tail=100\")",
      "command": "exec_shell(\"kubectl logs rate-7bdc978679-76gbq -n test-hotel-reservation-009db6f9 --tail=100\")",
      "result": "error: error from server (NotFound): pods \"rate-7bdc978679-76gbq\" not found in namespace \"test-hotel-reservation-009db6f9\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs rate-7bdc978679-76gbq -n test-hotel-reservation --since=5m\")",
      "command": "exec_shell(\"kubectl logs rate-7bdc978679-76gbq -n test-hotel-reservation-009db6f9 --since=5m\")",
      "result": "error: error from server (NotFound): pods \"rate-7bdc978679-76gbq\" not found in namespace \"test-hotel-reservation-009db6f9\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get configmaps -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get configmaps -n test-hotel-reservation-009db6f9\")",
      "result": "NAME                           DATA   AGE\nfailure-admin-geo              4      52s\nfailure-admin-rate             4      52s\nkube-root-ca.crt               1      52s\nmongo-geo-script               1      52s\nmongo-rate-script              1      52s\nwrk2-payload-script-009db6f9   1      17s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get configmap mongo-profile-script -n test-hotel-reservation -o yaml\")",
      "command": "exec_shell(\"kubectl get configmap mongo-profile-script -n test-hotel-reservation-009db6f9 -o yaml\")",
      "result": "Error from server (NotFound): configmaps \"mongo-profile-script\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get configmap mongo-reservation-script -n test-hotel-reservation -o yaml\")",
      "command": "exec_shell(\"kubectl get configmap mongo-reservation-script -n test-hotel-reservation-009db6f9 -o yaml\")",
      "result": "Error from server (NotFound): configmaps \"mongo-reservation-script\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get configmaps -n test-hotel-reservation | grep -E 'mongo|profile|reservation|rate'\")",
      "command": "exec_shell(\"kubectl get configmaps -n test-hotel-reservation-009db6f9 | grep -E 'mongo|profile|reservation|rate'\")",
      "result": "failure-admin-rate             4      54s\nmongo-geo-script               1      54s\nmongo-rate-script              1      54s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get configmap mongo-rate-script -n test-hotel-reservation -o yaml\")",
      "command": "exec_shell(\"kubectl get configmap mongo-rate-script -n test-hotel-reservation-009db6f9 -o yaml\")",
      "result": "apiVersion: v1\ndata:\n  k8s-rate-mongo.sh: |-\n    #!/bin/bash\n    # Copyright (c) Microsoft Corporation.\n    # Licensed under the MIT License.\n\n\n    ADMIN_USER=\"admin\"\n    ADMIN_PWD=\"admin\"\n\n    ROOT_USER=\"root\"\n    ROOT_PWD=\"root\"\n\n    TARGET_DB=\"rate-db\"\n    READ_WRITE_ROLE=\"readWrite\"\n\n    echo \"Waiting for MongoDB to start...\"\n    until mongo --eval \"print('waited for connection')\" > /dev/null 2>&1; do\n      sleep 1\n    done\n    echo \"MongoDB started\"\n\n    # Create the admin user (will fail if the user already exists)\n    echo \"Creating admin user...\"\n    mongo admin --eval \"db.createUser({user: '$ADMIN_USER', pwd: '$ADMIN_PWD', roles:[{role:'userAdminAnyDatabase',db:'admin'}]});\"\n\n    # Grant readWrite role on the target database\n    echo \"Granting readWrite role to $ADMIN_USER on $TARGET_DB database...\"\n    mongo admin -u $ADMIN_USER -p $ADMIN_PWD --authenticationDatabase admin \\\n         --eval \"db.grantRolesToUser('$ADMIN_USER', [{role: '$READ_WRITE_ROLE', db: '$TARGET_DB'}]);\"\n\n    # Create the root user (will fail if the user already exists)\n    echo \"Creating root user...\"\n    mongo admin --eval \"db.createUser({user: '$ROOT_USER', pwd: '$ROOT_PWD', roles:[{role:'userAdminAnyDatabase',db:'admin'}]});\"\n\n    # Grant readWrite role on the target database to root\n    echo \"Granting readWrite role to $ROOT_USER on $TARGET_DB database...\"\n    mongo admin -u $ROOT_USER -p $ROOT_PWD --authenticationDatabase admin \\\n         --eval \"db.grantRolesToUser('$ROOT_USER', [{role: '$READ_WRITE_ROLE', db: '$TARGET_DB'}]);\"\n\n\n    echo \"Initialization script completed\"\nkind: ConfigMap\nmetadata:\n  creationTimestamp: \"2025-12-24T10:15:15Z\"\n  name: mongo-rate-script\n  namespace: test-hotel-reservation-009db6f9\n  resourceVersion: \"71229\"\n  uid: a110f557-df96-4143-bd27-a1e1c88c5967\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get configmap mongo-geo-script -n test-hotel-reservation -o yaml\")",
      "command": "exec_shell(\"kubectl get configmap mongo-geo-script -n test-hotel-reservation-009db6f9 -o yaml\")",
      "result": "apiVersion: v1\ndata:\n  k8s-geo-mongo.sh: |-\n    #!/bin/bash\n    # Copyright (c) Microsoft Corporation.\n    # Licensed under the MIT License.\n\n\n    ADMIN_USER=\"admin\"\n    ADMIN_PWD=\"admin\"\n\n    ROOT_USER=\"root\"\n    ROOT_PWD=\"root\"\n\n    TARGET_DB=\"geo-db\"\n    READ_WRITE_ROLE=\"readWrite\"\n\n    echo \"Waiting for MongoDB to start...\"\n    until mongo --eval \"print('waited for connection')\" > /dev/null 2>&1; do\n      sleep 1\n    done\n    echo \"MongoDB started\"\n\n    # Create the admin user (will fail if the user already exists)\n    echo \"Creating admin user...\"\n    mongo admin --eval \"db.createUser({user: '$ADMIN_USER', pwd: '$ADMIN_PWD', roles:[{role:'userAdminAnyDatabase',db:'admin'}]});\"\n\n    # Grant readWrite role on the target database\n    echo \"Granting readWrite role to $ADMIN_USER on $TARGET_DB database...\"\n    mongo admin -u $ADMIN_USER -p $ADMIN_PWD --authenticationDatabase admin \\\n         --eval \"db.grantRolesToUser('$ADMIN_USER', [{role: '$READ_WRITE_ROLE', db: '$TARGET_DB'}]);\"\n\n    # Create the root user (will fail if the user already exists)\n    echo \"Creating root user...\"\n    mongo admin --eval \"db.createUser({user: '$ROOT_USER', pwd: '$ROOT_PWD', roles:[{role:'userAdminAnyDatabase',db:'admin'}]});\"\n\n    # Grant readWrite role on the target database to root\n    echo \"Granting readWrite role to $ROOT_USER on $TARGET_DB database...\"\n    mongo admin -u $ROOT_USER -p $ROOT_PWD --authenticationDatabase admin \\\n         --eval \"db.grantRolesToUser('$ROOT_USER', [{role: '$READ_WRITE_ROLE', db: '$TARGET_DB'}]);\"\n\n\n    echo \"Initialization script completed\"\nkind: ConfigMap\nmetadata:\n  creationTimestamp: \"2025-12-24T10:15:15Z\"\n  name: mongo-geo-script\n  namespace: test-hotel-reservation-009db6f9\n  resourceVersion: \"71230\"\n  uid: 772f8490-0d4b-41f2-96d0-56ff97a61f07\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get configmap failure-admin-rate -n test-hotel-reservation -o yaml\")",
      "command": "exec_shell(\"kubectl get configmap failure-admin-rate -n test-hotel-reservation-009db6f9 -o yaml\")",
      "result": "apiVersion: v1\ndata:\n  remove-admin-mongo.sh: \"#!/bin/bash\\n# Copyright (c) Microsoft Corporation.\\n# Licensed\n    under the MIT License.\\n\\n\\nROOT_USER=\\\"root\\\"\\nROOT_PWD=\\\"root\\\" \\n\\necho \\\"Removing\n    admin user...\\\"\\n\\nmongo admin -u $ROOT_USER -p $ROOT_PWD --authenticationDatabase\n    admin \\\\\\n     --eval \\\"db.dropUser('admin');\\\"\\n\\necho \\\"Admin user removed successfully\\\"\\n\"\n  remove-mitigate-admin-rate-mongo.sh: \"#!/bin/bash\\n# Copyright (c) Microsoft Corporation.\\n#\n    Licensed under the MIT License.\\n\\n\\nROOT_USER=\\\"root\\\"\\nROOT_PWD=\\\"root\\\"  \\n\\nADMIN_USER=\\\"admin\\\"\\nADMIN_PWD=\\\"admin\\\"\n    \\ \\nREAD_WRITE_ROLE=\\\"readWrite\\\"\\nTARGET_DB=\\\"rate-db\\\"\\n# TARGET_DB=\\\"geo-db\\\"\\n\\necho\n    \\\"Recreating admin user...\\\"\\n\\n# Connect to MongoDB and create the admin user\\nmongo\n    admin -u $ROOT_USER -p $ROOT_PWD --authenticationDatabase admin \\\\\\n     --eval\n    \\\"db.createUser({user: '$ADMIN_USER', pwd: '$ADMIN_PWD', roles:[{role:'userAdminAnyDatabase',db:'admin'}]});\\\"\\n\\necho\n    \\\"Admin user recreated\\\"\\n\\n# Grant readWrite role on the target database\\necho\n    \\\"Granting readWrite role to $ADMIN_USER on $TARGET_DB database...\\\"\\nmongo admin\n    -u $ROOT_USER -p $ROOT_PWD --authenticationDatabase admin \\\\\\n     --eval \\\"db.grantRolesToUser('$ADMIN_USER',\n    [{role: '$READ_WRITE_ROLE', db: '$TARGET_DB'}]);\\\"\\n\\necho \\\"Privileges restored\n    successfully\\\"\\n\"\n  revoke-admin-rate-mongo.sh: |\n    #!/bin/bash\n    # Copyright (c) Microsoft Corporation.\n    # Licensed under the MIT License.\n\n\n    ADMIN_USER=\"admin\"\n    ADMIN_PWD=\"admin\"\n    TARGET_DB=\"rate-db\"\n    # TARGET_DB=\"geo-db\"\n\n    echo \"Downgrading admin user privileges...\"\n\n    # Connect to MongoDB and revoke roles\n    mongo admin -u $ADMIN_USER -p $ADMIN_PWD --authenticationDatabase admin \\\n         --eval \"db.revokeRolesFromUser('$ADMIN_USER', [{role: 'readWrite', db: '$TARGET_DB'}]);\"\n\n    echo \"Privileges downgraded\"\n  revoke-mitigate-admin-rate-mongo.sh: |-\n    #!/bin/bash\n    # Copyright (c) Microsoft Corporation.\n    # Licensed under the MIT License.\n\n\n    ADMIN_USER=\"admin\"\n    ADMIN_PWD=\"admin\"\n\n    TARGET_DB=\"rate-db\"\n    # TARGET_DB=\"geo-db\"\n    READ_WRITE_ROLE=\"readWrite\"\n\n    echo \"Restoring readWrite privilege to the $ADMIN_USER user for the $TARGET_DB database...\"\n\n    # Grant readWrite role on the target database\n    mongo admin -u $ADMIN_USER -p $ADMIN_PWD --authenticationDatabase admin \\\n         --eval \"db.grantRolesToUser('$ADMIN_USER', [{role: '$READ_WRITE_ROLE', db: '$TARGET_DB'}]);\"\n\n    echo \"Privilege restored successfully\"\nkind: ConfigMap\nmetadata:\n  creationTimestamp: \"2025-12-24T10:15:15Z\"\n  name: failure-admin-rate\n  namespace: test-hotel-reservation-009db6f9\n  resourceVersion: \"71231\"\n  uid: c890e396-549a-4b55-826f-8b3c40cbae93\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe configmap mongo-rate-script -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe configmap mongo-rate-script -n test-hotel-reservation-009db6f9\")",
      "result": "Name:         mongo-rate-script\nNamespace:    test-hotel-reservation-009db6f9\nLabels:       <none>\nAnnotations:  <none>\n\nData\n====\nk8s-rate-mongo.sh:\n----\n#!/bin/bash\n# Copyright (c) Microsoft Corporation.\n# Licensed under the MIT License.\n\n\nADMIN_USER=\"admin\"\nADMIN_PWD=\"admin\"\n\nROOT_USER=\"root\"\nROOT_PWD=\"root\"\n\nTARGET_DB=\"rate-db\"\nREAD_WRITE_ROLE=\"readWrite\"\n\necho \"Waiting for MongoDB to start...\"\nuntil mongo --eval \"print('waited for connection')\" > /dev/null 2>&1; do\n  sleep 1\ndone\necho \"MongoDB started\"\n\n# Create the admin user (will fail if the user already exists)\necho \"Creating admin user...\"\nmongo admin --eval \"db.createUser({user: '$ADMIN_USER', pwd: '$ADMIN_PWD', roles:[{role:'userAdminAnyDatabase',db:'admin'}]});\"\n\n# Grant readWrite role on the target database\necho \"Granting readWrite role to $ADMIN_USER on $TARGET_DB database...\"\nmongo admin -u $ADMIN_USER -p $ADMIN_PWD --authenticationDatabase admin \\\n     --eval \"db.grantRolesToUser('$ADMIN_USER', [{role: '$READ_WRITE_ROLE', db: '$TARGET_DB'}]);\"\n\n# Create the root user (will fail if the user already exists)\necho \"Creating root user...\"\nmongo admin --eval \"db.createUser({user: '$ROOT_USER', pwd: '$ROOT_PWD', roles:[{role:'userAdminAnyDatabase',db:'admin'}]});\"\n\n# Grant readWrite role on the target database to root\necho \"Granting readWrite role to $ROOT_USER on $TARGET_DB database...\"\nmongo admin -u $ROOT_USER -p $ROOT_PWD --authenticationDatabase admin \\\n     --eval \"db.grantRolesToUser('$ROOT_USER', [{role: '$READ_WRITE_ROLE', db: '$TARGET_DB'}]);\"\n\n\necho \"Initialization script completed\"\n\n\nBinaryData\n====\n\nEvents:  <none>\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get deployment rate -n test-hotel-reservation -o yaml\")",
      "command": "exec_shell(\"kubectl get deployment rate -n test-hotel-reservation-009db6f9 -o yaml\")",
      "result": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  annotations:\n    deployment.kubernetes.io/revision: \"1\"\n    kompose.cmd: kompose convert\n    kompose.version: 1.22.0 (955b78124)\n    kubectl.kubernetes.io/last-applied-configuration: |\n      {\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"kompose.cmd\":\"kompose convert\",\"kompose.version\":\"1.22.0 (955b78124)\"},\"creationTimestamp\":null,\"labels\":{\"io.kompose.service\":\"rate\"},\"name\":\"rate\",\"namespace\":\"test-hotel-reservation-009db6f9\"},\"spec\":{\"replicas\":1,\"selector\":{\"matchLabels\":{\"io.kompose.service\":\"rate\"}},\"strategy\":{},\"template\":{\"metadata\":{\"annotations\":{\"kompose.cmd\":\"kompose convert\",\"kompose.version\":\"1.22.0 (955b78124)\",\"sidecar.istio.io/statsInclusionPrefixes\":\"cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\",\"sidecar.istio.io/statsInclusionRegexps\":\"http.*\"},\"creationTimestamp\":null,\"labels\":{\"io.kompose.service\":\"rate\"}},\"spec\":{\"containers\":[{\"command\":[\"rate\"],\"env\":[{\"name\":\"JAEGER_SAMPLE_RATIO\",\"value\":\"1\"}],\"image\":\"yinfangchen/hotelreservation:latest\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"hotel-reserv-rate\",\"ports\":[{\"containerPort\":8084}],\"resources\":{\"limits\":{\"cpu\":\"1000m\"},\"requests\":{\"cpu\":\"100m\"}}}],\"restartPolicy\":\"Always\"}}},\"status\":{}}\n  creationTimestamp: \"2025-12-24T10:15:17Z\"\n  generation: 1\n  labels:\n    io.kompose.service: rate\n  name: rate\n  namespace: test-hotel-reservation-009db6f9\n  resourceVersion: \"72070\"\n  uid: bb4f2526-e55c-4060-8954-bd08cffbaf9e\nspec:\n  progressDeadlineSeconds: 600\n  replicas: 1\n  revisionHistoryLimit: 10\n  selector:\n    matchLabels:\n      io.kompose.service: rate\n  strategy:\n    rollingUpdate:\n      maxSurge: 25%\n      maxUnavailable: 25%\n    type: RollingUpdate\n  template:\n    metadata:\n      annotations:\n        kompose.cmd: kompose convert\n        kompose.version: 1.22.0 (955b78124)\n        sidecar.istio.io/statsInclusionPrefixes: cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\n        sidecar.istio.io/statsInclusionRegexps: http.*\n      creationTimestamp: null\n      labels:\n        io.kompose.service: rate\n    spec:\n      containers:\n      - command:\n        - rate\n        env:\n        - name: JAEGER_SAMPLE_RATIO\n          value: \"1\"\n        image: yinfangchen/hotelreservation:latest\n        imagePullPolicy: IfNotPresent\n        name: hotel-reserv-rate\n        ports:\n        - containerPort: 8084\n          protocol: TCP\n        resources:\n          limits:\n            cpu: \"1\"\n          requests:\n            cpu: 100m\n        terminationMessagePath: /dev/termination-log\n        terminationMessagePolicy: File\n      dnsPolicy: ClusterFirst\n      restartPolicy: Always\n      schedulerName: default-scheduler\n      securityContext: {}\n      terminationGracePeriodSeconds: 30\nstatus:\n  conditions:\n  - lastTransitionTime: \"2025-12-24T10:15:18Z\"\n    lastUpdateTime: \"2025-12-24T10:15:24Z\"\n    message: ReplicaSet \"rate-7bdc978679\" has successfully progressed.\n    reason: NewReplicaSetAvailable\n    status: \"True\"\n    type: Progressing\n  - lastTransitionTime: \"2025-12-24T10:15:46Z\"\n    lastUpdateTime: \"2025-12-24T10:15:46Z\"\n    message: Deployment does not have minimum availability.\n    reason: MinimumReplicasUnavailable\n    status: \"False\"\n    type: Available\n  observedGeneration: 1\n  replicas: 1\n  unavailableReplicas: 1\n  updatedReplicas: 1\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe deployment rate -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe deployment rate -n test-hotel-reservation-009db6f9\")",
      "result": "Name:                   rate\nNamespace:              test-hotel-reservation-009db6f9\nCreationTimestamp:      Wed, 24 Dec 2025 18:15:17 +0800\nLabels:                 io.kompose.service=rate\nAnnotations:            deployment.kubernetes.io/revision: 1\n                        kompose.cmd: kompose convert\n                        kompose.version: 1.22.0 (955b78124)\nSelector:               io.kompose.service=rate\nReplicas:               1 desired | 1 updated | 1 total | 0 available | 1 unavailable\nStrategyType:           RollingUpdate\nMinReadySeconds:        0\nRollingUpdateStrategy:  25% max unavailable, 25% max surge\nPod Template:\n  Labels:       io.kompose.service=rate\n  Annotations:  kompose.cmd: kompose convert\n                kompose.version: 1.22.0 (955b78124)\n                sidecar.istio.io/statsInclusionPrefixes:\n                  cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\n                sidecar.istio.io/statsInclusionRegexps: http.*\n  Containers:\n   hotel-reserv-rate:\n    Image:      yinfangchen/hotelreservation:latest\n    Port:       8084/TCP\n    Host Port:  0/TCP\n    Command:\n      rate\n    Limits:\n      cpu:  1\n    Requests:\n      cpu:  100m\n    Environment:\n      JAEGER_SAMPLE_RATIO:  1\n    Mounts:                 <none>\n  Volumes:                  <none>\n  Node-Selectors:           <none>\n  Tolerations:              <none>\nConditions:\n  Type           Status  Reason\n  ----           ------  ------\n  Progressing    True    NewReplicaSetAvailable\n  Available      False   MinimumReplicasUnavailable\nOldReplicaSets:  <none>\nNewReplicaSet:   rate-7bdc978679 (1/1 replicas created)\nEvents:\n  Type    Reason             Age   From                   Message\n  ----    ------             ----  ----                   -------\n  Normal  ScalingReplicaSet  56s   deployment-controller  Scaled up replica set rate-7bdc978679 from 0 to 1\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get deployment mongodb-rate -n test-hotel-reservation -o yaml\")",
      "command": "exec_shell(\"kubectl get deployment mongodb-rate -n test-hotel-reservation-009db6f9 -o yaml\")",
      "result": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  annotations:\n    deployment.kubernetes.io/revision: \"1\"\n    kompose.cmd: kompose convert\n    kompose.version: 1.22.0 (955b78124)\n    kubectl.kubernetes.io/last-applied-configuration: |\n      {\"apiVersion\":\"apps/v1\",\"kind\":\"Deployment\",\"metadata\":{\"annotations\":{\"kompose.cmd\":\"kompose convert\",\"kompose.version\":\"1.22.0 (955b78124)\"},\"creationTimestamp\":null,\"labels\":{\"io.kompose.service\":\"mongodb-rate\"},\"name\":\"mongodb-rate\",\"namespace\":\"test-hotel-reservation-009db6f9\"},\"spec\":{\"replicas\":1,\"selector\":{\"matchLabels\":{\"io.kompose.service\":\"mongodb-rate\"}},\"strategy\":{\"type\":\"Recreate\"},\"template\":{\"metadata\":{\"annotations\":{\"kompose.cmd\":\"kompose convert\",\"kompose.version\":\"1.22.0 (955b78124)\",\"sidecar.istio.io/statsInclusionPrefixes\":\"cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\",\"sidecar.istio.io/statsInclusionRegexps\":\"http.*\"},\"creationTimestamp\":null,\"labels\":{\"io.kompose.service\":\"mongodb-rate\"}},\"spec\":{\"containers\":[{\"args\":[\"--auth\"],\"image\":\"mongo:4.4.6\",\"imagePullPolicy\":\"IfNotPresent\",\"name\":\"hotel-reserv-rate-mongo\",\"ports\":[{\"containerPort\":27017}],\"resources\":{\"limits\":{\"cpu\":\"1000m\"},\"requests\":{\"cpu\":\"100m\"}},\"volumeMounts\":[{\"mountPath\":\"/data/db\",\"name\":\"rate\"},{\"mountPath\":\"/docker-entrypoint-initdb.d\",\"name\":\"init-script\"},{\"mountPath\":\"/scripts\",\"name\":\"failure-script\"}]}],\"volumes\":[{\"name\":\"rate\",\"persistentVolumeClaim\":{\"claimName\":\"rate-pvc\"}},{\"configMap\":{\"name\":\"mongo-rate-script\"},\"name\":\"init-script\"},{\"configMap\":{\"name\":\"failure-admin-rate\"},\"name\":\"failure-script\"}]}}},\"status\":{}}\n  creationTimestamp: \"2025-12-24T10:15:17Z\"\n  generation: 1\n  labels:\n    io.kompose.service: mongodb-rate\n  name: mongodb-rate\n  namespace: test-hotel-reservation-009db6f9\n  resourceVersion: \"72049\"\n  uid: 49a4103a-6779-4842-b4be-a119044550cc\nspec:\n  progressDeadlineSeconds: 600\n  replicas: 1\n  revisionHistoryLimit: 10\n  selector:\n    matchLabels:\n      io.kompose.service: mongodb-rate\n  strategy:\n    type: Recreate\n  template:\n    metadata:\n      annotations:\n        kompose.cmd: kompose convert\n        kompose.version: 1.22.0 (955b78124)\n        sidecar.istio.io/statsInclusionPrefixes: cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\n        sidecar.istio.io/statsInclusionRegexps: http.*\n      creationTimestamp: null\n      labels:\n        io.kompose.service: mongodb-rate\n    spec:\n      containers:\n      - args:\n        - --auth\n        image: mongo:4.4.6\n        imagePullPolicy: IfNotPresent\n        name: hotel-reserv-rate-mongo\n        ports:\n        - containerPort: 27017\n          protocol: TCP\n        resources:\n          limits:\n            cpu: \"1\"\n          requests:\n            cpu: 100m\n        terminationMessagePath: /dev/termination-log\n        terminationMessagePolicy: File\n        volumeMounts:\n        - mountPath: /data/db\n          name: rate\n        - mountPath: /docker-entrypoint-initdb.d\n          name: init-script\n        - mountPath: /scripts\n          name: failure-script\n      dnsPolicy: ClusterFirst\n      restartPolicy: Always\n      schedulerName: default-scheduler\n      securityContext: {}\n      terminationGracePeriodSeconds: 30\n      volumes:\n      - name: rate\n        persistentVolumeClaim:\n          claimName: rate-pvc\n      - configMap:\n          defaultMode: 420\n          name: mongo-rate-script\n        name: init-script\n      - configMap:\n          defaultMode: 420\n          name: failure-admin-rate\n        name: failure-script\nstatus:\n  availableReplicas: 1\n  conditions:\n  - lastTransitionTime: \"2025-12-24T10:15:17Z\"\n    lastUpdateTime: \"2025-12-24T10:15:31Z\"\n    message: ReplicaSet \"mongodb-rate-56cc8659c9\" has successfully progressed.\n    reason: NewReplicaSetAvailable\n    status: \"True\"\n    type: Progressing\n  - lastTransitionTime: \"2025-12-24T10:15:44Z\"\n    lastUpdateTime: \"2025-12-24T10:15:44Z\"\n    message: Deployment has minimum availability.\n    reason: MinimumReplicasAvailable\n    status: \"True\"\n    type: Available\n  observedGeneration: 1\n  readyReplicas: 1\n  replicas: 1\n  updatedReplicas: 1\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation -l io.kompose.service=rate\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-009db6f9 -l io.kompose.service=rate\")",
      "result": "NAME                    READY   STATUS             RESTARTS      AGE\nrate-7bdc978679-77bdb   0/1     CrashLoopBackOff   2 (12s ago)   31s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get replicasets -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get replicasets -n test-hotel-reservation-009db6f9\")",
      "result": "NAME                                DESIRED   CURRENT   READY   AGE\nconsul-78c8d79bb                    1         1         1       57s\nfrontend-7fc7ddc9db                 1         1         1       57s\ngeo-84fbc958c7                      1         1         1       57s\njaeger-67445b6dd6                   1         1         1       57s\nmemcached-profile-668dcd6dbb        1         1         1       57s\nmemcached-rate-5b666ddfcb           1         1         1       57s\nmemcached-reserve-5bf87f5d54        1         1         1       56s\nmongodb-geo-5ff578bcb8              1         1         1       57s\nmongodb-profile-758cb77f9f          1         1         1       57s\nmongodb-rate-56cc8659c9             1         1         1       57s\nmongodb-recommendation-55699465f7   1         1         1       56s\nmongodb-reservation-5994859869      1         1         1       56s\nmongodb-user-969c6c449              1         1         1       55s\nprofile-8b6dd7c6c                   1         1         1       57s\nrate-7bdc978679                     1         1         0       56s\nrecommendation-6879fb56bf           1         1         1       56s\nreservation-78c9f7976b              1         1         1       55s\nsearch-5c64c8f5bc                   1         1         1       55s\nuser-66d5d6f874                     1         1         1       55s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe replicaset rate-7bdc978679 -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe replicaset rate-7bdc978679 -n test-hotel-reservation-009db6f9\")",
      "result": "Name:           rate-7bdc978679\nNamespace:      test-hotel-reservation-009db6f9\nSelector:       io.kompose.service=rate,pod-template-hash=7bdc978679\nLabels:         io.kompose.service=rate\n                pod-template-hash=7bdc978679\nAnnotations:    deployment.kubernetes.io/desired-replicas: 1\n                deployment.kubernetes.io/max-replicas: 2\n                deployment.kubernetes.io/revision: 1\n                kompose.cmd: kompose convert\n                kompose.version: 1.22.0 (955b78124)\nControlled By:  Deployment/rate\nReplicas:       1 current / 1 desired\nPods Status:    1 Running / 0 Waiting / 0 Succeeded / 0 Failed\nPod Template:\n  Labels:       io.kompose.service=rate\n                pod-template-hash=7bdc978679\n  Annotations:  kompose.cmd: kompose convert\n                kompose.version: 1.22.0 (955b78124)\n                sidecar.istio.io/statsInclusionPrefixes:\n                  cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\n                sidecar.istio.io/statsInclusionRegexps: http.*\n  Containers:\n   hotel-reserv-rate:\n    Image:      yinfangchen/hotelreservation:latest\n    Port:       8084/TCP\n    Host Port:  0/TCP\n    Command:\n      rate\n    Limits:\n      cpu:  1\n    Requests:\n      cpu:  100m\n    Environment:\n      JAEGER_SAMPLE_RATIO:  1\n    Mounts:                 <none>\n  Volumes:                  <none>\n  Node-Selectors:           <none>\n  Tolerations:              <none>\nEvents:\n  Type    Reason            Age   From                   Message\n  ----    ------            ----  ----                   -------\n  Normal  SuccessfulCreate  57s   replicaset-controller  Created pod: rate-7bdc978679-kknzs\n  Normal  SuccessfulCreate  32s   replicaset-controller  Created pod: rate-7bdc978679-77bdb\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation -o json | grep -i crash\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-009db6f9 -o json | grep -i crash\")",
      "result": "                                \"reason\": \"CrashLoopBackOff\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation --field-selector status.phase!=Running\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-009db6f9 --field-selector status.phase!=Running\")",
      "result": "NAME                      READY   STATUS      RESTARTS   AGE\nwrk2-job-009db6f9-r2sqc   0/1     Completed   0          27s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get endpoints -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get endpoints -n test-hotel-reservation-009db6f9\")",
      "result": "NAME                     ENDPOINTS                                                            AGE\nconsul                   10.244.1.145:8300,10.244.1.145:8400,10.244.1.145:53 + 1 more...      60s\nfrontend                 10.244.1.146:5000                                                    60s\ngeo                      10.244.1.147:8083                                                    60s\njaeger                   10.244.1.149:6832,10.244.1.149:14268,10.244.1.149:5775 + 5 more...   60s\njaeger-out               10.244.1.149:16686                                                   60s\nmemcached-profile        10.244.1.150:11211                                                   60s\nmemcached-rate           10.244.1.170:11211                                                   60s\nmemcached-reserve        10.244.1.157:11211                                                   60s\nmongodb-geo              10.244.1.162:27017                                                   60s\nmongodb-profile          10.244.1.164:27017                                                   60s\nmongodb-rate             10.244.1.171:27017                                                   60s\nmongodb-recommendation   10.244.1.167:27017                                                   60s\nmongodb-reservation      10.244.1.168:27017                                                   60s\nmongodb-user             10.244.1.169:27017                                                   60s\nprofile                  10.244.1.152:8081                                                    60s\nrate                                                                                          60s\nrecommendation           10.244.1.156:8085                                                    60s\nreservation              10.244.1.158:8087                                                    60s\nsearch                   10.244.1.160:8082                                                    60s\nuser                     10.244.1.161:8086                                                    60s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe service rate -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe service rate -n test-hotel-reservation-009db6f9\")",
      "result": "Name:                     rate\nNamespace:                test-hotel-reservation-009db6f9\nLabels:                   io.kompose.service=rate\nAnnotations:              kompose.cmd: kompose convert\n                          kompose.version: 1.22.0 (955b78124)\nSelector:                 io.kompose.service=rate\nType:                     ClusterIP\nIP Family Policy:         SingleStack\nIP Families:              IPv4\nIP:                       10.96.192.79\nIPs:                      10.96.192.79\nPort:                     8084  8084/TCP\nTargetPort:               8084/TCP\nEndpoints:                \nSession Affinity:         None\nInternal Traffic Policy:  Cluster\nEvents:                   <none>\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get service mongodb-rate -n test-hotel-reservation -o wide\")",
      "command": "exec_shell(\"kubectl get service mongodb-rate -n test-hotel-reservation-009db6f9 -o wide\")",
      "result": "NAME           TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)     AGE   SELECTOR\nmongodb-rate   ClusterIP   10.96.219.9   <none>        27017/TCP   62s   io.kompose.service=mongodb-rate\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe pod user-66d5d6f874-q2gtx -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe pod user-66d5d6f874-q2gtx -n test-hotel-reservation-009db6f9\")",
      "result": "Error from server (NotFound): pods \"user-66d5d6f874-q2gtx\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation -l io.kompose.service=mongodb-rate\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-009db6f9 -l io.kompose.service=mongodb-rate\")",
      "result": "NAME                            READY   STATUS    RESTARTS   AGE\nmongodb-rate-56cc8659c9-kcg8c   1/1     Running   0          38s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe pod mongodb-rate -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe pod mongodb-rate -n test-hotel-reservation-009db6f9\")",
      "result": "Name:             mongodb-rate-56cc8659c9-kcg8c\nNamespace:        test-hotel-reservation-009db6f9\nPriority:         0\nService Account:  default\nNode:             kind-worker/172.18.0.2\nStart Time:       Wed, 24 Dec 2025 18:15:42 +0800\nLabels:           io.kompose.service=mongodb-rate\n                  pod-template-hash=56cc8659c9\nAnnotations:      kompose.cmd: kompose convert\n                  kompose.version: 1.22.0 (955b78124)\n                  sidecar.istio.io/statsInclusionPrefixes:\n                    cluster.outbound,cluster_manager,listener_manager,http_mixer_filter,tcp_mixer_filter,server,cluster.xds-grp,listener,connection_manager\n                  sidecar.istio.io/statsInclusionRegexps: http.*\nStatus:           Running\nIP:               10.244.1.171\nIPs:\n  IP:           10.244.1.171\nControlled By:  ReplicaSet/mongodb-rate-56cc8659c9\nContainers:\n  hotel-reserv-rate-mongo:\n    Container ID:  containerd://f32f7cafdb738338450f14d313594d9d720534bb668ec0ca6b4071ec8cf66353\n    Image:         mongo:4.4.6\n    Image ID:      docker.io/library/import-2025-12-24@sha256:69380384c9222401e0d450da3d6e85f74840b2421bb27369c18d62ee2c875f53\n    Port:          27017/TCP\n    Host Port:     0/TCP\n    Args:\n      --auth\n    State:          Running\n      Started:      Wed, 24 Dec 2025 18:15:43 +0800\n    Ready:          True\n    Restart Count:  0\n    Limits:\n      cpu:  1\n    Requests:\n      cpu:        100m\n    Environment:  <none>\n    Mounts:\n      /data/db from rate (rw)\n      /docker-entrypoint-initdb.d from init-script (rw)\n      /scripts from failure-script (rw)\n      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-mqshl (ro)\nConditions:\n  Type                        Status\n  PodReadyToStartContainers   True \n  Initialized                 True \n  Ready                       True \n  ContainersReady             True \n  PodScheduled                True \nVolumes:\n  rate:\n    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)\n    ClaimName:  rate-pvc\n    ReadOnly:   false\n  init-script:\n    Type:      ConfigMap (a volume populated by a ConfigMap)\n    Name:      mongo-rate-script\n    Optional:  false\n  failure-script:\n    Type:      ConfigMap (a volume populated by a ConfigMap)\n    Name:      failure-admin-rate\n    Optional:  false\n  kube-api-access-mqshl:\n    Type:                    Projected (a volume that contains injected data from multiple sources)\n    TokenExpirationSeconds:  3607\n    ConfigMapName:           kube-root-ca.crt\n    Optional:                false\n    DownwardAPI:             true\nQoS Class:                   Burstable\nNode-Selectors:              <none>\nTolerations:                 node.kubernetes.io/not-ready:NoExecute op=Exists for 300s\n                             node.kubernetes.io/unreachable:NoExecute op=Exists for 300s\nEvents:\n  Type    Reason     Age   From               Message\n  ----    ------     ----  ----               -------\n  Normal  Scheduled  39s   default-scheduler  Successfully assigned test-hotel-reservation-009db6f9/mongodb-rate-56cc8659c9-kcg8c to kind-worker\n  Normal  Pulled     38s   kubelet            Container image \"mongo:4.4.6\" already present on machine\n  Normal  Created    38s   kubelet            Created container: hotel-reserv-rate-mongo\n  Normal  Started    38s   kubelet            Started container hotel-reserv-rate-mongo\n\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs mongodb-rate -n test-hotel-reservation --tail=50\")",
      "command": "exec_shell(\"kubectl logs mongodb-rate -n test-hotel-reservation-009db6f9 --tail=50\")",
      "result": "error: error from server (NotFound): pods \"mongodb-rate\" not found in namespace \"test-hotel-reservation-009db6f9\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation -o jsonpath='{range .items[*]}{.metadata.name}{\\\"\\\\t\\\"}{.status.phase}{\\\"\\\\t\\\"}{.status.containerStatuses[0].restartCount}{\\\"\\\\n\\\"}{end}'\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-009db6f9 -o jsonpath='{range .items[*]}{.metadata.name}{\\\"\\\\t\\\"}{.status.phase}{\\\"\\\\t\\\"}{.status.containerStatuses[0].restartCount}{\\\"\\\\n\\\"}{end}'\")",
      "result": "consul-78c8d79bb-tvx57\\tRunning\\t0\\nfrontend-7fc7ddc9db-mczv2\\tRunning\\t0\\ngeo-84fbc958c7-s7khj\\tRunning\\t1\\njaeger-67445b6dd6-f4dn8\\tRunning\\t0\\nmemcached-profile-668dcd6dbb-29kpq\\tRunning\\t0\\nmemcached-rate-5b666ddfcb-rtkjh\\tRunning\\t0\\nmemcached-reserve-5bf87f5d54-rjhk6\\tRunning\\t0\\nmongodb-geo-5ff578bcb8-gzptw\\tRunning\\t0\\nmongodb-profile-758cb77f9f-dk8tn\\tRunning\\t0\\nmongodb-rate-56cc8659c9-kcg8c\\tRunning\\t0\\nmongodb-recommendation-55699465f7-r44s2\\tRunning\\t0\\nmongodb-reservation-5994859869-jv75t\\tRunning\\t0\\nmongodb-user-969c6c449-c9htr\\tRunning\\t0\\nprofile-8b6dd7c6c-bc822\\tRunning\\t1\\nrate-7bdc978679-77bdb\\tRunning\\t2\\nrecommendation-6879fb56bf-smpnj\\tRunning\\t1\\nreservation-78c9f7976b-68twt\\tRunning\\t0\\nsearch-5c64c8f5bc-6nhw4\\tRunning\\t0\\nuser-66d5d6f874-8kkrm\\tRunning\\t1\\nwrk2-job-009db6f9-r2sqc\\tSucceeded\\t0\\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get events -n test-hotel-reservation --field-selector type=Warning\")",
      "command": "exec_shell(\"kubectl get events -n test-hotel-reservation-009db6f9 --field-selector type=Warning\")",
      "result": "LAST SEEN   TYPE      REASON    OBJECT                      MESSAGE\n9s          Warning   BackOff   pod/rate-7bdc978679-77bdb   Back-off restarting failed container hotel-reserv-rate in pod rate-7bdc978679-77bdb_test-hotel-reservation-009db6f9(3200dbcb-69df-46ba-b01f-d4ced3ed2e00)\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get events -n test-hotel-reservation --field-selector reason=BackOff\")",
      "command": "exec_shell(\"kubectl get events -n test-hotel-reservation-009db6f9 --field-selector reason=BackOff\")",
      "result": "LAST SEEN   TYPE      REASON    OBJECT                      MESSAGE\n0s          Warning   BackOff   pod/rate-7bdc978679-77bdb   Back-off restarting failed container hotel-reserv-rate in pod rate-7bdc978679-77bdb_test-hotel-reservation-009db6f9(3200dbcb-69df-46ba-b01f-d4ced3ed2e00)\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get persistentvolumeclaims -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get persistentvolumeclaims -n test-hotel-reservation-009db6f9\")",
      "result": "NAME                 STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS       VOLUMEATTRIBUTESCLASS   AGE\ngeo-pvc              Bound    pvc-750c3043-be4d-4bf7-a6d5-1882217d5868   1Gi        RWO            openebs-hostpath   <unset>                 68s\nprofile-pvc          Bound    pvc-be61dc72-d38d-460e-b256-c62a7a0040e7   1Gi        RWO            openebs-hostpath   <unset>                 68s\nrate-pvc             Bound    pvc-0b87e16d-50b3-412b-9eeb-052e010bbd82   1Gi        RWO            openebs-hostpath   <unset>                 68s\nrecommendation-pvc   Bound    pvc-b6844cb0-dd4a-4e85-8ba5-60da0719f132   1Gi        RWO            openebs-hostpath   <unset>                 68s\nreservation-pvc      Bound    pvc-9cf7aa35-61c7-4b15-b358-d51038c8662d   1Gi        RWO            openebs-hostpath   <unset>                 68s\nuser-pvc             Bound    pvc-ebc2c866-1d6d-4138-a81e-99515955f0f4   1Gi        RWO            openebs-hostpath   <unset>                 68s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get persistentvolumes\")",
      "command": "exec_shell(\"kubectl get persistentvolumes\")",
      "result": "NAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS   CLAIM                                                STORAGECLASS       VOLUMEATTRIBUTESCLASS   REASON   AGE\npvc-0b87e16d-50b3-412b-9eeb-052e010bbd82   1Gi        RWO            Delete           Bound    test-hotel-reservation-009db6f9/rate-pvc             openebs-hostpath   <unset>                          58s\npvc-38d48591-b944-4d91-aa2c-bcf630ac60f8   8Gi        RWO            Delete           Bound    observe/prometheus-server                            openebs-hostpath   <unset>                          112m\npvc-750c3043-be4d-4bf7-a6d5-1882217d5868   1Gi        RWO            Delete           Bound    test-hotel-reservation-009db6f9/geo-pvc              openebs-hostpath   <unset>                          61s\npvc-9cf7aa35-61c7-4b15-b358-d51038c8662d   1Gi        RWO            Delete           Bound    test-hotel-reservation-009db6f9/reservation-pvc      openebs-hostpath   <unset>                          56s\npvc-b6844cb0-dd4a-4e85-8ba5-60da0719f132   1Gi        RWO            Delete           Bound    test-hotel-reservation-009db6f9/recommendation-pvc   openebs-hostpath   <unset>                          57s\npvc-be61dc72-d38d-460e-b256-c62a7a0040e7   1Gi        RWO            Delete           Bound    test-hotel-reservation-009db6f9/profile-pvc          openebs-hostpath   <unset>                          59s\npvc-ebc2c866-1d6d-4138-a81e-99515955f0f4   1Gi        RWO            Delete           Bound    test-hotel-reservation-009db6f9/user-pvc             openebs-hostpath   <unset>                          53s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe pod frontend-7fc7ddc9db-t9k2z -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe pod frontend-7fc7ddc9db-t9k2z -n test-hotel-reservation-009db6f9\")",
      "result": "Error from server (NotFound): pods \"frontend-7fc7ddc9db-t9k2z\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe pod consul-78c8d79bb-gh5rs -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe pod consul-78c8d79bb-gh5rs -n test-hotel-reservation-009db6f9\")",
      "result": "Error from server (NotFound): pods \"consul-78c8d79bb-gh5rs\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs frontend-7fc7ddc9db-t9k2z -n test-hotel-reservation --tail=50\")",
      "command": "exec_shell(\"kubectl logs frontend-7fc7ddc9db-t9k2z -n test-hotel-reservation-009db6f9 --tail=50\")",
      "result": "error: error from server (NotFound): pods \"frontend-7fc7ddc9db-t9k2z\" not found in namespace \"test-hotel-reservation-009db6f9\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get secrets -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get secrets -n test-hotel-reservation-009db6f9\")",
      "result": "No resources found in test-hotel-reservation-009db6f9 namespace.\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe secret -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe secret -n test-hotel-reservation-009db6f9\")",
      "result": "No resources found in test-hotel-reservation-009db6f9 namespace.\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get serviceaccounts -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get serviceaccounts -n test-hotel-reservation-009db6f9\")",
      "result": "NAME      SECRETS   AGE\ndefault   0         75s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl exec -it rate-7bdc978679-76gbq -n test-hotel-reservation -- env | grep -i mongo\")",
      "command": "exec_shell(\"kubectl exec -it rate-7bdc978679-76gbq -n test-hotel-reservation-009db6f9 -- env | grep -i mongo\")",
      "result": "Error from server (NotFound): pods \"rate-7bdc978679-76gbq\" not found\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation -o yaml | grep -A 5 'configMap'\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-009db6f9 -o yaml | grep -A 5 'configMap'\")",
      "result": "        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n    - configMap:\n        defaultMode: 420\n        name: mongo-geo-script\n      name: init-script\n    - configMap:\n        defaultMode: 420\n        name: failure-admin-geo\n      name: failure-script\n    - name: kube-api-access-b64kh\n      projected:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n    - configMap:\n        defaultMode: 420\n        name: mongo-rate-script\n      name: init-script\n    - configMap:\n        defaultMode: 420\n        name: failure-admin-rate\n      name: failure-script\n    - name: kube-api-access-mqshl\n      projected:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n--\n    - configMap:\n        defaultMode: 420\n        name: wrk2-payload-script-009db6f9\n      name: wrk2-scripts\n    - name: kube-api-access-l2gd7\n      projected:\n--\n        - configMap:\n            items:\n            - key: ca.crt\n              path: ca.crt\n            name: kube-root-ca.crt\n        - downwardAPI:\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get deployment rate -n test-hotel-reservation -o jsonpath='{.spec.template.spec.containers[0].env}'\")",
      "command": "exec_shell(\"kubectl get deployment rate -n test-hotel-reservation-009db6f9 -o jsonpath='{.spec.template.spec.containers[0].env}'\")",
      "result": "[{\"name\":\"JAEGER_SAMPLE_RATIO\",\"value\":\"1\"}]",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get deployment rate -n test-hotel-reservation -o jsonpath='{.spec.template.spec.volumes}'\")",
      "command": "exec_shell(\"kubectl get deployment rate -n test-hotel-reservation-009db6f9 -o jsonpath='{.spec.template.spec.volumes}'\")",
      "result": "",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe service mongodb-profile -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe service mongodb-profile -n test-hotel-reservation-009db6f9\")",
      "result": "Name:                     mongodb-profile\nNamespace:                test-hotel-reservation-009db6f9\nLabels:                   io.kompose.service=mongodb-profile\nAnnotations:              kompose.cmd: kompose convert\n                          kompose.version: 1.22.0 (955b78124)\nSelector:                 io.kompose.service=mongodb-profile\nType:                     ClusterIP\nIP Family Policy:         SingleStack\nIP Families:              IPv4\nIP:                       10.96.147.233\nIPs:                      10.96.147.233\nPort:                     mongodb-profile  27017/TCP\nTargetPort:               27017/TCP\nEndpoints:                10.244.1.164:27017\nSession Affinity:         None\nInternal Traffic Policy:  Cluster\nEvents:                   <none>\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe service mongodb-reservation -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe service mongodb-reservation -n test-hotel-reservation-009db6f9\")",
      "result": "Name:                     mongodb-reservation\nNamespace:                test-hotel-reservation-009db6f9\nLabels:                   io.kompose.service=mongodb-reservation\nAnnotations:              kompose.cmd: kompose convert\n                          kompose.version: 1.22.0 (955b78124)\nSelector:                 io.kompose.service=mongodb-reservation\nType:                     ClusterIP\nIP Family Policy:         SingleStack\nIP Families:              IPv4\nIP:                       10.96.152.63\nIPs:                      10.96.152.63\nPort:                     mongodb-reservation  27017/TCP\nTargetPort:               27017/TCP\nEndpoints:                10.244.1.168:27017\nSession Affinity:         None\nInternal Traffic Policy:  Cluster\nEvents:                   <none>\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation -l io.kompose.service=mongodb-profile\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-009db6f9 -l io.kompose.service=mongodb-profile\")",
      "result": "NAME                               READY   STATUS    RESTARTS   AGE\nmongodb-profile-758cb77f9f-dk8tn   1/1     Running   0          78s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation -l io.kompose.service=mongodb-reservation\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-009db6f9 -l io.kompose.service=mongodb-reservation\")",
      "result": "NAME                                   READY   STATUS    RESTARTS   AGE\nmongodb-reservation-5994859869-jv75t   1/1     Running   0          78s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs profile -n test-hotel-reservation --tail=100\")",
      "command": "exec_shell(\"kubectl logs profile -n test-hotel-reservation-009db6f9 --tail=100\")",
      "result": "error: error from server (NotFound): pods \"profile\" not found in namespace \"test-hotel-reservation-009db6f9\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl logs reservation -n test-hotel-reservation --tail=100\")",
      "command": "exec_shell(\"kubectl logs reservation -n test-hotel-reservation-009db6f9 --tail=100\")",
      "result": "error: error from server (NotFound): pods \"reservation\" not found in namespace \"test-hotel-reservation-009db6f9\"\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get networkpolicies -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get networkpolicies -n test-hotel-reservation-009db6f9\")",
      "result": "No resources found in test-hotel-reservation-009db6f9 namespace.\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get ingress -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get ingress -n test-hotel-reservation-009db6f9\")",
      "result": "No resources found in test-hotel-reservation-009db6f9 namespace.\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl top pods -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl top pods -n test-hotel-reservation-009db6f9\")",
      "result": "error: Metrics API not available\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get pods -n test-hotel-reservation -o wide --sort-by=.status.startTime\")",
      "command": "exec_shell(\"kubectl get pods -n test-hotel-reservation-009db6f9 -o wide --sort-by=.status.startTime\")",
      "result": "NAME                                      READY   STATUS             RESTARTS      AGE   IP             NODE          NOMINATED NODE   READINESS GATES\nprofile-8b6dd7c6c-bc822                   1/1     Running            1 (65s ago)   84s   10.244.1.152   kind-worker   <none>           <none>\nfrontend-7fc7ddc9db-mczv2                 1/1     Running            0             84s   10.244.1.146   kind-worker   <none>           <none>\ngeo-84fbc958c7-s7khj                      1/1     Running            1 (67s ago)   84s   10.244.1.147   kind-worker   <none>           <none>\njaeger-67445b6dd6-f4dn8                   1/1     Running            0             84s   10.244.1.149   kind-worker   <none>           <none>\nmemcached-profile-668dcd6dbb-29kpq        1/1     Running            0             84s   10.244.1.150   kind-worker   <none>           <none>\nconsul-78c8d79bb-tvx57                    1/1     Running            0             84s   10.244.1.145   kind-worker   <none>           <none>\nmemcached-reserve-5bf87f5d54-rjhk6        1/1     Running            0             83s   10.244.1.157   kind-worker   <none>           <none>\nrecommendation-6879fb56bf-smpnj           1/1     Running            1 (63s ago)   83s   10.244.1.156   kind-worker   <none>           <none>\nsearch-5c64c8f5bc-6nhw4                   1/1     Running            0             82s   10.244.1.160   kind-worker   <none>           <none>\nuser-66d5d6f874-8kkrm                     1/1     Running            1 (60s ago)   82s   10.244.1.161   kind-worker   <none>           <none>\nreservation-78c9f7976b-68twt              1/1     Running            0             82s   10.244.1.158   kind-worker   <none>           <none>\nmongodb-geo-5ff578bcb8-gzptw              1/1     Running            0             84s   10.244.1.162   kind-worker   <none>           <none>\nmongodb-profile-758cb77f9f-dk8tn          1/1     Running            0             84s   10.244.1.164   kind-worker   <none>           <none>\nmongodb-recommendation-55699465f7-r44s2   1/1     Running            0             83s   10.244.1.167   kind-worker   <none>           <none>\nmongodb-reservation-5994859869-jv75t      1/1     Running            0             83s   10.244.1.168   kind-worker   <none>           <none>\nmongodb-user-969c6c449-c9htr              1/1     Running            0             82s   10.244.1.169   kind-worker   <none>           <none>\nmemcached-rate-5b666ddfcb-rtkjh           1/1     Running            0             60s   10.244.1.170   kind-worker   <none>           <none>\nmongodb-rate-56cc8659c9-kcg8c             1/1     Running            0             59s   10.244.1.171   kind-worker   <none>           <none>\nrate-7bdc978679-77bdb                     0/1     CrashLoopBackOff   3 (17s ago)   58s   10.244.1.172   kind-worker   <none>           <none>\nwrk2-job-009db6f9-r2sqc                   0/1     Completed          0             51s   10.244.1.173   kind-worker   <none>           <none>\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get events -n test-hotel-reservation --field-selector involvedObject.kind=ConfigMap\")",
      "command": "exec_shell(\"kubectl get events -n test-hotel-reservation-009db6f9 --field-selector involvedObject.kind=ConfigMap\")",
      "result": "No resources found in test-hotel-reservation-009db6f9 namespace.\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get all -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get all -n test-hotel-reservation-009db6f9\")",
      "result": "NAME                                          READY   STATUS             RESTARTS      AGE\npod/consul-78c8d79bb-tvx57                    1/1     Running            0             85s\npod/frontend-7fc7ddc9db-mczv2                 1/1     Running            0             85s\npod/geo-84fbc958c7-s7khj                      1/1     Running            1 (68s ago)   85s\npod/jaeger-67445b6dd6-f4dn8                   1/1     Running            0             85s\npod/memcached-profile-668dcd6dbb-29kpq        1/1     Running            0             85s\npod/memcached-rate-5b666ddfcb-rtkjh           1/1     Running            0             61s\npod/memcached-reserve-5bf87f5d54-rjhk6        1/1     Running            0             84s\npod/mongodb-geo-5ff578bcb8-gzptw              1/1     Running            0             85s\npod/mongodb-profile-758cb77f9f-dk8tn          1/1     Running            0             85s\npod/mongodb-rate-56cc8659c9-kcg8c             1/1     Running            0             60s\npod/mongodb-recommendation-55699465f7-r44s2   1/1     Running            0             84s\npod/mongodb-reservation-5994859869-jv75t      1/1     Running            0             84s\npod/mongodb-user-969c6c449-c9htr              1/1     Running            0             83s\npod/profile-8b6dd7c6c-bc822                   1/1     Running            1 (66s ago)   85s\npod/rate-7bdc978679-77bdb                     0/1     CrashLoopBackOff   3 (18s ago)   59s\npod/recommendation-6879fb56bf-smpnj           1/1     Running            1 (64s ago)   84s\npod/reservation-78c9f7976b-68twt              1/1     Running            0             83s\npod/search-5c64c8f5bc-6nhw4                   1/1     Running            0             83s\npod/user-66d5d6f874-8kkrm                     1/1     Running            1 (61s ago)   83s\npod/wrk2-job-009db6f9-r2sqc                   0/1     Completed          0             52s\n\nNAME                             TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                                                                       AGE\nservice/consul                   ClusterIP   10.96.222.37    <none>        8300/TCP,8400/TCP,8500/TCP,8600/UDP                                           85s\nservice/frontend                 ClusterIP   10.96.231.241   <none>        5000/TCP                                                                      85s\nservice/geo                      ClusterIP   10.96.148.239   <none>        8083/TCP                                                                      85s\nservice/jaeger                   ClusterIP   10.96.70.235    <none>        14269/TCP,5778/TCP,14268/TCP,14267/TCP,16686/TCP,5775/UDP,6831/UDP,6832/UDP   85s\nservice/jaeger-out               NodePort    10.96.119.94    <none>        16686:31567/TCP                                                               85s\nservice/memcached-profile        ClusterIP   10.96.78.51     <none>        11211/TCP                                                                     85s\nservice/memcached-rate           ClusterIP   10.96.166.84    <none>        11211/TCP                                                                     85s\nservice/memcached-reserve        ClusterIP   10.96.77.216    <none>        11211/TCP                                                                     85s\nservice/mongodb-geo              ClusterIP   10.96.101.12    <none>        27017/TCP                                                                     85s\nservice/mongodb-profile          ClusterIP   10.96.147.233   <none>        27017/TCP                                                                     85s\nservice/mongodb-rate             ClusterIP   10.96.219.9     <none>        27017/TCP                                                                     85s\nservice/mongodb-recommendation   ClusterIP   10.96.22.112    <none>        27017/TCP                                                                     85s\nservice/mongodb-reservation      ClusterIP   10.96.152.63    <none>        27017/TCP                                                                     85s\nservice/mongodb-user             ClusterIP   10.96.124.40    <none>        27017/TCP                                                                     85s\nservice/profile                  ClusterIP   10.96.12.191    <none>        8081/TCP                                                                      85s\nservice/rate                     ClusterIP   10.96.192.79    <none>        8084/TCP                                                                      85s\nservice/recommendation           ClusterIP   10.96.135.143   <none>        8085/TCP                                                                      85s\nservice/reservation              ClusterIP   10.96.214.69    <none>        8087/TCP                                                                      85s\nservice/search                   ClusterIP   10.96.201.241   <none>        8082/TCP                                                                      85s\nservice/user                     ClusterIP   10.96.15.79     <none>        8086/TCP                                                                      85s\n\nNAME                                     READY   UP-TO-DATE   AVAILABLE   AGE\ndeployment.apps/consul                   1/1     1            1           85s\ndeployment.apps/frontend                 1/1     1            1           85s\ndeployment.apps/geo                      1/1     1            1           85s\ndeployment.apps/jaeger                   1/1     1            1           85s\ndeployment.apps/memcached-profile        1/1     1            1           85s\ndeployment.apps/memcached-rate           1/1     1            1           85s\ndeployment.apps/memcached-reserve        1/1     1            1           85s\ndeployment.apps/mongodb-geo              1/1     1            1           85s\ndeployment.apps/mongodb-profile          1/1     1            1           85s\ndeployment.apps/mongodb-rate             1/1     1            1           85s\ndeployment.apps/mongodb-recommendation   1/1     1            1           85s\ndeployment.apps/mongodb-reservation      1/1     1            1           85s\ndeployment.apps/mongodb-user             1/1     1            1           85s\ndeployment.apps/profile                  1/1     1            1           85s\ndeployment.apps/rate                     0/1     1            0           85s\ndeployment.apps/recommendation           1/1     1            1           85s\ndeployment.apps/reservation              1/1     1            1           85s\ndeployment.apps/search                   1/1     1            1           85s\ndeployment.apps/user                     1/1     1            1           85s\n\nNAME                                                DESIRED   CURRENT   READY   AGE\nreplicaset.apps/consul-78c8d79bb                    1         1         1       85s\nreplicaset.apps/frontend-7fc7ddc9db                 1         1         1       85s\nreplicaset.apps/geo-84fbc958c7                      1         1         1       85s\nreplicaset.apps/jaeger-67445b6dd6                   1         1         1       85s\nreplicaset.apps/memcached-profile-668dcd6dbb        1         1         1       85s\nreplicaset.apps/memcached-rate-5b666ddfcb           1         1         1       85s\nreplicaset.apps/memcached-reserve-5bf87f5d54        1         1         1       84s\nreplicaset.apps/mongodb-geo-5ff578bcb8              1         1         1       85s\nreplicaset.apps/mongodb-profile-758cb77f9f          1         1         1       85s\nreplicaset.apps/mongodb-rate-56cc8659c9             1         1         1       85s\nreplicaset.apps/mongodb-recommendation-55699465f7   1         1         1       84s\nreplicaset.apps/mongodb-reservation-5994859869      1         1         1       84s\nreplicaset.apps/mongodb-user-969c6c449              1         1         1       83s\nreplicaset.apps/profile-8b6dd7c6c                   1         1         1       85s\nreplicaset.apps/rate-7bdc978679                     1         1         0       84s\nreplicaset.apps/recommendation-6879fb56bf           1         1         1       84s\nreplicaset.apps/reservation-78c9f7976b              1         1         1       83s\nreplicaset.apps/search-5c64c8f5bc                   1         1         1       83s\nreplicaset.apps/user-66d5d6f874                     1         1         1       83s\n\nNAME                          STATUS     COMPLETIONS   DURATION   AGE\njob.batch/wrk2-job-009db6f9   Complete   1/1           13s        52s\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl describe namespace test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl describe namespace test-hotel-reservation\")",
      "result": "Name:         test-hotel-reservation-009db6f9\nLabels:       kubernetes.io/metadata.name=test-hotel-reservation-009db6f9\nAnnotations:  <none>\nStatus:       Active\n\nNo resource quota.\n\nNo LimitRange resource.\n\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get resourcequotas -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get resourcequotas -n test-hotel-reservation-009db6f9\")",
      "result": "No resources found in test-hotel-reservation-009db6f9 namespace.\n",
      "success": true,
      "attempt": 1
    },
    {
      "original_command": "exec_shell(\"kubectl get limitranges -n test-hotel-reservation\")",
      "command": "exec_shell(\"kubectl get limitranges -n test-hotel-reservation-009db6f9\")",
      "result": "No resources found in test-hotel-reservation-009db6f9 namespace.\n",
      "success": true,
      "attempt": 1
    }
  ]
}